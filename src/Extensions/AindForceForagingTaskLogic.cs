//----------------------
// <auto-generated>
//     Generated using the NJsonSchema v10.9.0.0 (Newtonsoft.Json v13.0.0.0) (http://NJsonSchema.org)
// </auto-generated>
//----------------------


namespace AindForceForagingDataSchema.TaskLogic
{
    #pragma warning disable // Disable all warnings

    [System.CodeDom.Compiler.GeneratedCodeAttribute("Bonsai.Sgen", "0.3.0.0 (Newtonsoft.Json v13.0.0.0)")]
    [Bonsai.CombinatorAttribute()]
    [Bonsai.WorkflowElementCategoryAttribute(Bonsai.ElementCategory.Source)]
    public partial class ActionUpdater
    {
    
        private UpdateTargetParameter _targetParameter = AindForceForagingDataSchema.TaskLogic.UpdateTargetParameter.Probability;
    
        private UpdateTargetParameterBy _updatedBy = AindForceForagingDataSchema.TaskLogic.UpdateTargetParameterBy.Time;
    
        private NumericalUpdater _updater = new NumericalUpdater();
    
        public ActionUpdater()
        {
        }
    
        protected ActionUpdater(ActionUpdater other)
        {
            _targetParameter = other._targetParameter;
            _updatedBy = other._updatedBy;
            _updater = other._updater;
        }
    
        /// <summary>
        /// Target parameter
        /// </summary>
        [System.Xml.Serialization.XmlIgnoreAttribute()]
        [Newtonsoft.Json.JsonPropertyAttribute("target_parameter")]
        [System.ComponentModel.DescriptionAttribute("Target parameter")]
        public UpdateTargetParameter TargetParameter
        {
            get
            {
                return _targetParameter;
            }
            set
            {
                _targetParameter = value;
            }
        }
    
        /// <summary>
        /// Independent variable
        /// </summary>
        [System.Xml.Serialization.XmlIgnoreAttribute()]
        [Newtonsoft.Json.JsonPropertyAttribute("updated_by")]
        [System.ComponentModel.DescriptionAttribute("Independent variable")]
        public UpdateTargetParameterBy UpdatedBy
        {
            get
            {
                return _updatedBy;
            }
            set
            {
                _updatedBy = value;
            }
        }
    
        /// <summary>
        /// Updater
        /// </summary>
        [System.Xml.Serialization.XmlIgnoreAttribute()]
        [Newtonsoft.Json.JsonPropertyAttribute("updater", Required=Newtonsoft.Json.Required.Always)]
        [System.ComponentModel.DescriptionAttribute("Updater")]
        public NumericalUpdater Updater
        {
            get
            {
                return _updater;
            }
            set
            {
                _updater = value;
            }
        }
    
        public System.IObservable<ActionUpdater> Process()
        {
            return System.Reactive.Linq.Observable.Defer(() => System.Reactive.Linq.Observable.Return(new ActionUpdater(this)));
        }
    
        public System.IObservable<ActionUpdater> Process<TSource>(System.IObservable<TSource> source)
        {
            return System.Reactive.Linq.Observable.Select(source, _ => new ActionUpdater(this));
        }
    
        protected virtual bool PrintMembers(System.Text.StringBuilder stringBuilder)
        {
            stringBuilder.Append("target_parameter = " + _targetParameter + ", ");
            stringBuilder.Append("updated_by = " + _updatedBy + ", ");
            stringBuilder.Append("updater = " + _updater);
            return true;
        }
    
        public override string ToString()
        {
            System.Text.StringBuilder stringBuilder = new System.Text.StringBuilder();
            stringBuilder.Append(GetType().Name);
            stringBuilder.Append(" { ");
            if (PrintMembers(stringBuilder))
            {
                stringBuilder.Append(" ");
            }
            stringBuilder.Append("}");
            return stringBuilder.ToString();
        }
    }


    [System.CodeDom.Compiler.GeneratedCodeAttribute("Bonsai.Sgen", "0.3.0.0 (Newtonsoft.Json v13.0.0.0)")]
    [Bonsai.CombinatorAttribute()]
    [Bonsai.WorkflowElementCategoryAttribute(Bonsai.ElementCategory.Source)]
    public partial class AindForceForagingTaskParameters
    {
    
        private double? _rngSeed;
    
        private string _aindBehaviorServicesPkgVersion = "0.8.7";
    
        private Environment _environment = new Environment();
    
        private System.Collections.Generic.IDictionary<string, NumericalUpdater> _updaters;
    
        private OperationControl _operationControl;
    
        public AindForceForagingTaskParameters()
        {
        }
    
        protected AindForceForagingTaskParameters(AindForceForagingTaskParameters other)
        {
            _rngSeed = other._rngSeed;
            _aindBehaviorServicesPkgVersion = other._aindBehaviorServicesPkgVersion;
            _environment = other._environment;
            _updaters = other._updaters;
            _operationControl = other._operationControl;
        }
    
        /// <summary>
        /// Seed of the random number generator
        /// </summary>
        [System.Xml.Serialization.XmlIgnoreAttribute()]
        [Newtonsoft.Json.JsonPropertyAttribute("rng_seed")]
        [System.ComponentModel.DescriptionAttribute("Seed of the random number generator")]
        public double? RngSeed
        {
            get
            {
                return _rngSeed;
            }
            set
            {
                _rngSeed = value;
            }
        }
    
        [Newtonsoft.Json.JsonPropertyAttribute("aind_behavior_services_pkg_version")]
        public string AindBehaviorServicesPkgVersion
        {
            get
            {
                return _aindBehaviorServicesPkgVersion;
            }
            set
            {
                _aindBehaviorServicesPkgVersion = value;
            }
        }
    
        /// <summary>
        /// Environment settings
        /// </summary>
        [System.Xml.Serialization.XmlIgnoreAttribute()]
        [Newtonsoft.Json.JsonPropertyAttribute("environment", Required=Newtonsoft.Json.Required.Always)]
        [System.ComponentModel.DescriptionAttribute("Environment settings")]
        public Environment Environment
        {
            get
            {
                return _environment;
            }
            set
            {
                _environment = value;
            }
        }
    
        /// <summary>
        /// List of numerical updaters
        /// </summary>
        [System.Xml.Serialization.XmlIgnoreAttribute()]
        [Newtonsoft.Json.JsonPropertyAttribute("updaters")]
        [System.ComponentModel.DescriptionAttribute("List of numerical updaters")]
        public System.Collections.Generic.IDictionary<string, NumericalUpdater> Updaters
        {
            get
            {
                return _updaters;
            }
            set
            {
                _updaters = value;
            }
        }
    
        /// <summary>
        /// Operation control
        /// </summary>
        [System.Xml.Serialization.XmlIgnoreAttribute()]
        [Newtonsoft.Json.JsonPropertyAttribute("operation_control")]
        [System.ComponentModel.DescriptionAttribute("Operation control")]
        public OperationControl OperationControl
        {
            get
            {
                return _operationControl;
            }
            set
            {
                _operationControl = value;
            }
        }
    
        public System.IObservable<AindForceForagingTaskParameters> Process()
        {
            return System.Reactive.Linq.Observable.Defer(() => System.Reactive.Linq.Observable.Return(new AindForceForagingTaskParameters(this)));
        }
    
        public System.IObservable<AindForceForagingTaskParameters> Process<TSource>(System.IObservable<TSource> source)
        {
            return System.Reactive.Linq.Observable.Select(source, _ => new AindForceForagingTaskParameters(this));
        }
    
        protected virtual bool PrintMembers(System.Text.StringBuilder stringBuilder)
        {
            stringBuilder.Append("rng_seed = " + _rngSeed + ", ");
            stringBuilder.Append("aind_behavior_services_pkg_version = " + _aindBehaviorServicesPkgVersion + ", ");
            stringBuilder.Append("environment = " + _environment + ", ");
            stringBuilder.Append("updaters = " + _updaters + ", ");
            stringBuilder.Append("operation_control = " + _operationControl);
            return true;
        }
    
        public override string ToString()
        {
            System.Text.StringBuilder stringBuilder = new System.Text.StringBuilder();
            stringBuilder.Append(GetType().Name);
            stringBuilder.Append(" { ");
            if (PrintMembers(stringBuilder))
            {
                stringBuilder.Append(" ");
            }
            stringBuilder.Append("}");
            return stringBuilder.ToString();
        }
    }


    [System.CodeDom.Compiler.GeneratedCodeAttribute("Bonsai.Sgen", "0.3.0.0 (Newtonsoft.Json v13.0.0.0)")]
    [Bonsai.CombinatorAttribute()]
    [Bonsai.WorkflowElementCategoryAttribute(Bonsai.ElementCategory.Source)]
    public partial class AudioFeedback : ContinuousFeedback
    {
    
        private System.Collections.Generic.List<double> _converterLutInput = new System.Collections.Generic.List<double>();
    
        private System.Collections.Generic.List<double> _converterLutOutput = new System.Collections.Generic.List<double>();
    
        public AudioFeedback()
        {
        }
    
        protected AudioFeedback(AudioFeedback other) : 
                base(other)
        {
            _converterLutInput = other._converterLutInput;
            _converterLutOutput = other._converterLutOutput;
        }
    
        /// <summary>
        /// Normalized input domain. All values should be between 0 and 1
        /// </summary>
        [System.Xml.Serialization.XmlIgnoreAttribute()]
        [Newtonsoft.Json.JsonPropertyAttribute("converter_lut_input")]
        [System.ComponentModel.DescriptionAttribute("Normalized input domain. All values should be between 0 and 1")]
        public System.Collections.Generic.List<double> ConverterLutInput
        {
            get
            {
                return _converterLutInput;
            }
            set
            {
                _converterLutInput = value;
            }
        }
    
        /// <summary>
        /// Output domain used to linearly interpolate the input values to the output values
        /// </summary>
        [System.Xml.Serialization.XmlIgnoreAttribute()]
        [Newtonsoft.Json.JsonPropertyAttribute("converter_lut_output")]
        [System.ComponentModel.DescriptionAttribute("Output domain used to linearly interpolate the input values to the output values")]
        public System.Collections.Generic.List<double> ConverterLutOutput
        {
            get
            {
                return _converterLutOutput;
            }
            set
            {
                _converterLutOutput = value;
            }
        }
    
        public System.IObservable<AudioFeedback> Process()
        {
            return System.Reactive.Linq.Observable.Defer(() => System.Reactive.Linq.Observable.Return(new AudioFeedback(this)));
        }
    
        public System.IObservable<AudioFeedback> Process<TSource>(System.IObservable<TSource> source)
        {
            return System.Reactive.Linq.Observable.Select(source, _ => new AudioFeedback(this));
        }
    
        protected override bool PrintMembers(System.Text.StringBuilder stringBuilder)
        {
            if (base.PrintMembers(stringBuilder))
            {
                stringBuilder.Append(", ");
            }
            stringBuilder.Append("converter_lut_input = " + _converterLutInput + ", ");
            stringBuilder.Append("converter_lut_output = " + _converterLutOutput);
            return true;
        }
    }


    [System.CodeDom.Compiler.GeneratedCodeAttribute("Bonsai.Sgen", "0.3.0.0 (Newtonsoft.Json v13.0.0.0)")]
    [Bonsai.CombinatorAttribute()]
    [Bonsai.WorkflowElementCategoryAttribute(Bonsai.ElementCategory.Source)]
    public partial class BetaDistribution : Distribution
    {
    
        private BetaDistributionParameters _distributionParameters;
    
        private TruncationParameters _truncationParameters;
    
        private ScalingParameters _scalingParameters;
    
        public BetaDistribution()
        {
        }
    
        protected BetaDistribution(BetaDistribution other) : 
                base(other)
        {
            _distributionParameters = other._distributionParameters;
            _truncationParameters = other._truncationParameters;
            _scalingParameters = other._scalingParameters;
        }
    
        /// <summary>
        /// Parameters of the distribution
        /// </summary>
        [System.Xml.Serialization.XmlIgnoreAttribute()]
        [Newtonsoft.Json.JsonPropertyAttribute("distribution_parameters")]
        [System.ComponentModel.DescriptionAttribute("Parameters of the distribution")]
        public BetaDistributionParameters DistributionParameters
        {
            get
            {
                return _distributionParameters;
            }
            set
            {
                _distributionParameters = value;
            }
        }
    
        /// <summary>
        /// Truncation parameters of the distribution
        /// </summary>
        [System.Xml.Serialization.XmlIgnoreAttribute()]
        [Newtonsoft.Json.JsonPropertyAttribute("truncation_parameters")]
        [System.ComponentModel.DescriptionAttribute("Truncation parameters of the distribution")]
        public TruncationParameters TruncationParameters
        {
            get
            {
                return _truncationParameters;
            }
            set
            {
                _truncationParameters = value;
            }
        }
    
        /// <summary>
        /// Scaling parameters of the distribution
        /// </summary>
        [System.Xml.Serialization.XmlIgnoreAttribute()]
        [Newtonsoft.Json.JsonPropertyAttribute("scaling_parameters")]
        [System.ComponentModel.DescriptionAttribute("Scaling parameters of the distribution")]
        public ScalingParameters ScalingParameters
        {
            get
            {
                return _scalingParameters;
            }
            set
            {
                _scalingParameters = value;
            }
        }
    
        public System.IObservable<BetaDistribution> Process()
        {
            return System.Reactive.Linq.Observable.Defer(() => System.Reactive.Linq.Observable.Return(new BetaDistribution(this)));
        }
    
        public System.IObservable<BetaDistribution> Process<TSource>(System.IObservable<TSource> source)
        {
            return System.Reactive.Linq.Observable.Select(source, _ => new BetaDistribution(this));
        }
    
        protected override bool PrintMembers(System.Text.StringBuilder stringBuilder)
        {
            if (base.PrintMembers(stringBuilder))
            {
                stringBuilder.Append(", ");
            }
            stringBuilder.Append("distribution_parameters = " + _distributionParameters + ", ");
            stringBuilder.Append("truncation_parameters = " + _truncationParameters + ", ");
            stringBuilder.Append("scaling_parameters = " + _scalingParameters);
            return true;
        }
    }


    [System.CodeDom.Compiler.GeneratedCodeAttribute("Bonsai.Sgen", "0.3.0.0 (Newtonsoft.Json v13.0.0.0)")]
    [Bonsai.CombinatorAttribute()]
    [Bonsai.WorkflowElementCategoryAttribute(Bonsai.ElementCategory.Source)]
    public partial class BetaDistributionParameters
    {
    
        private string _family = "Beta";
    
        private double _alpha = 5D;
    
        private double _beta = 5D;
    
        public BetaDistributionParameters()
        {
        }
    
        protected BetaDistributionParameters(BetaDistributionParameters other)
        {
            _family = other._family;
            _alpha = other._alpha;
            _beta = other._beta;
        }
    
        [Newtonsoft.Json.JsonPropertyAttribute("family")]
        public string Family
        {
            get
            {
                return _family;
            }
            set
            {
                _family = value;
            }
        }
    
        /// <summary>
        /// Alpha parameter of the distribution
        /// </summary>
        [Newtonsoft.Json.JsonPropertyAttribute("alpha")]
        [System.ComponentModel.DescriptionAttribute("Alpha parameter of the distribution")]
        public double Alpha
        {
            get
            {
                return _alpha;
            }
            set
            {
                _alpha = value;
            }
        }
    
        /// <summary>
        /// Beta parameter of the distribution
        /// </summary>
        [Newtonsoft.Json.JsonPropertyAttribute("beta")]
        [System.ComponentModel.DescriptionAttribute("Beta parameter of the distribution")]
        public double Beta
        {
            get
            {
                return _beta;
            }
            set
            {
                _beta = value;
            }
        }
    
        public System.IObservable<BetaDistributionParameters> Process()
        {
            return System.Reactive.Linq.Observable.Defer(() => System.Reactive.Linq.Observable.Return(new BetaDistributionParameters(this)));
        }
    
        public System.IObservable<BetaDistributionParameters> Process<TSource>(System.IObservable<TSource> source)
        {
            return System.Reactive.Linq.Observable.Select(source, _ => new BetaDistributionParameters(this));
        }
    
        protected virtual bool PrintMembers(System.Text.StringBuilder stringBuilder)
        {
            stringBuilder.Append("family = " + _family + ", ");
            stringBuilder.Append("alpha = " + _alpha + ", ");
            stringBuilder.Append("beta = " + _beta);
            return true;
        }
    
        public override string ToString()
        {
            System.Text.StringBuilder stringBuilder = new System.Text.StringBuilder();
            stringBuilder.Append(GetType().Name);
            stringBuilder.Append(" { ");
            if (PrintMembers(stringBuilder))
            {
                stringBuilder.Append(" ");
            }
            stringBuilder.Append("}");
            return stringBuilder.ToString();
        }
    }


    [System.CodeDom.Compiler.GeneratedCodeAttribute("Bonsai.Sgen", "0.3.0.0 (Newtonsoft.Json v13.0.0.0)")]
    [Bonsai.CombinatorAttribute()]
    [Bonsai.WorkflowElementCategoryAttribute(Bonsai.ElementCategory.Source)]
    public partial class BinomialDistribution : Distribution
    {
    
        private BinomialDistributionParameters _distributionParameters;
    
        private TruncationParameters _truncationParameters;
    
        private ScalingParameters _scalingParameters;
    
        public BinomialDistribution()
        {
        }
    
        protected BinomialDistribution(BinomialDistribution other) : 
                base(other)
        {
            _distributionParameters = other._distributionParameters;
            _truncationParameters = other._truncationParameters;
            _scalingParameters = other._scalingParameters;
        }
    
        /// <summary>
        /// Parameters of the distribution
        /// </summary>
        [System.Xml.Serialization.XmlIgnoreAttribute()]
        [Newtonsoft.Json.JsonPropertyAttribute("distribution_parameters")]
        [System.ComponentModel.DescriptionAttribute("Parameters of the distribution")]
        public BinomialDistributionParameters DistributionParameters
        {
            get
            {
                return _distributionParameters;
            }
            set
            {
                _distributionParameters = value;
            }
        }
    
        /// <summary>
        /// Truncation parameters of the distribution
        /// </summary>
        [System.Xml.Serialization.XmlIgnoreAttribute()]
        [Newtonsoft.Json.JsonPropertyAttribute("truncation_parameters")]
        [System.ComponentModel.DescriptionAttribute("Truncation parameters of the distribution")]
        public TruncationParameters TruncationParameters
        {
            get
            {
                return _truncationParameters;
            }
            set
            {
                _truncationParameters = value;
            }
        }
    
        /// <summary>
        /// Scaling parameters of the distribution
        /// </summary>
        [System.Xml.Serialization.XmlIgnoreAttribute()]
        [Newtonsoft.Json.JsonPropertyAttribute("scaling_parameters")]
        [System.ComponentModel.DescriptionAttribute("Scaling parameters of the distribution")]
        public ScalingParameters ScalingParameters
        {
            get
            {
                return _scalingParameters;
            }
            set
            {
                _scalingParameters = value;
            }
        }
    
        public System.IObservable<BinomialDistribution> Process()
        {
            return System.Reactive.Linq.Observable.Defer(() => System.Reactive.Linq.Observable.Return(new BinomialDistribution(this)));
        }
    
        public System.IObservable<BinomialDistribution> Process<TSource>(System.IObservable<TSource> source)
        {
            return System.Reactive.Linq.Observable.Select(source, _ => new BinomialDistribution(this));
        }
    
        protected override bool PrintMembers(System.Text.StringBuilder stringBuilder)
        {
            if (base.PrintMembers(stringBuilder))
            {
                stringBuilder.Append(", ");
            }
            stringBuilder.Append("distribution_parameters = " + _distributionParameters + ", ");
            stringBuilder.Append("truncation_parameters = " + _truncationParameters + ", ");
            stringBuilder.Append("scaling_parameters = " + _scalingParameters);
            return true;
        }
    }


    [System.CodeDom.Compiler.GeneratedCodeAttribute("Bonsai.Sgen", "0.3.0.0 (Newtonsoft.Json v13.0.0.0)")]
    [Bonsai.CombinatorAttribute()]
    [Bonsai.WorkflowElementCategoryAttribute(Bonsai.ElementCategory.Source)]
    public partial class BinomialDistributionParameters
    {
    
        private string _family = "Binomial";
    
        private int _n = 1;
    
        private double _p = 0.5D;
    
        public BinomialDistributionParameters()
        {
        }
    
        protected BinomialDistributionParameters(BinomialDistributionParameters other)
        {
            _family = other._family;
            _n = other._n;
            _p = other._p;
        }
    
        [Newtonsoft.Json.JsonPropertyAttribute("family")]
        public string Family
        {
            get
            {
                return _family;
            }
            set
            {
                _family = value;
            }
        }
    
        /// <summary>
        /// Number of trials
        /// </summary>
        [Newtonsoft.Json.JsonPropertyAttribute("n")]
        [System.ComponentModel.DescriptionAttribute("Number of trials")]
        public int N
        {
            get
            {
                return _n;
            }
            set
            {
                _n = value;
            }
        }
    
        /// <summary>
        /// Probability of success
        /// </summary>
        [Newtonsoft.Json.JsonPropertyAttribute("p")]
        [System.ComponentModel.DescriptionAttribute("Probability of success")]
        public double P
        {
            get
            {
                return _p;
            }
            set
            {
                _p = value;
            }
        }
    
        public System.IObservable<BinomialDistributionParameters> Process()
        {
            return System.Reactive.Linq.Observable.Defer(() => System.Reactive.Linq.Observable.Return(new BinomialDistributionParameters(this)));
        }
    
        public System.IObservable<BinomialDistributionParameters> Process<TSource>(System.IObservable<TSource> source)
        {
            return System.Reactive.Linq.Observable.Select(source, _ => new BinomialDistributionParameters(this));
        }
    
        protected virtual bool PrintMembers(System.Text.StringBuilder stringBuilder)
        {
            stringBuilder.Append("family = " + _family + ", ");
            stringBuilder.Append("n = " + _n + ", ");
            stringBuilder.Append("p = " + _p);
            return true;
        }
    
        public override string ToString()
        {
            System.Text.StringBuilder stringBuilder = new System.Text.StringBuilder();
            stringBuilder.Append(GetType().Name);
            stringBuilder.Append(" { ");
            if (PrintMembers(stringBuilder))
            {
                stringBuilder.Append(" ");
            }
            stringBuilder.Append("}");
            return stringBuilder.ToString();
        }
    }


    [System.CodeDom.Compiler.GeneratedCodeAttribute("Bonsai.Sgen", "0.3.0.0 (Newtonsoft.Json v13.0.0.0)")]
    [Bonsai.CombinatorAttribute()]
    [Bonsai.WorkflowElementCategoryAttribute(Bonsai.ElementCategory.Source)]
    public partial class Block : BlockStatistics
    {
    
        private bool _isBaited = false;
    
        private System.Collections.Generic.List<Trial> _trials = new System.Collections.Generic.List<Trial>();
    
        private bool _shuffle = false;
    
        private int? _repeatCount;
    
        public Block()
        {
        }
    
        protected Block(Block other) : 
                base(other)
        {
            _isBaited = other._isBaited;
            _trials = other._trials;
            _shuffle = other._shuffle;
            _repeatCount = other._repeatCount;
        }
    
        /// <summary>
        /// Whether the trials are baited
        /// </summary>
        [Newtonsoft.Json.JsonPropertyAttribute("is_baited")]
        [System.ComponentModel.DescriptionAttribute("Whether the trials are baited")]
        public bool IsBaited
        {
            get
            {
                return _isBaited;
            }
            set
            {
                _isBaited = value;
            }
        }
    
        /// <summary>
        /// List of trials in the block
        /// </summary>
        [System.Xml.Serialization.XmlIgnoreAttribute()]
        [Newtonsoft.Json.JsonPropertyAttribute("trials")]
        [System.ComponentModel.DescriptionAttribute("List of trials in the block")]
        public System.Collections.Generic.List<Trial> Trials
        {
            get
            {
                return _trials;
            }
            set
            {
                _trials = value;
            }
        }
    
        /// <summary>
        /// Whether to shuffle the trials in the block
        /// </summary>
        [Newtonsoft.Json.JsonPropertyAttribute("shuffle")]
        [System.ComponentModel.DescriptionAttribute("Whether to shuffle the trials in the block")]
        public bool Shuffle
        {
            get
            {
                return _shuffle;
            }
            set
            {
                _shuffle = value;
            }
        }
    
        /// <summary>
        /// Number of times to repeat the block. If null, the block will be repeated indefinitely
        /// </summary>
        [System.Xml.Serialization.XmlIgnoreAttribute()]
        [Newtonsoft.Json.JsonPropertyAttribute("repeat_count")]
        [System.ComponentModel.DescriptionAttribute("Number of times to repeat the block. If null, the block will be repeated indefini" +
            "tely")]
        public int? RepeatCount
        {
            get
            {
                return _repeatCount;
            }
            set
            {
                _repeatCount = value;
            }
        }
    
        public System.IObservable<Block> Process()
        {
            return System.Reactive.Linq.Observable.Defer(() => System.Reactive.Linq.Observable.Return(new Block(this)));
        }
    
        public System.IObservable<Block> Process<TSource>(System.IObservable<TSource> source)
        {
            return System.Reactive.Linq.Observable.Select(source, _ => new Block(this));
        }
    
        protected override bool PrintMembers(System.Text.StringBuilder stringBuilder)
        {
            if (base.PrintMembers(stringBuilder))
            {
                stringBuilder.Append(", ");
            }
            stringBuilder.Append("is_baited = " + _isBaited + ", ");
            stringBuilder.Append("trials = " + _trials + ", ");
            stringBuilder.Append("shuffle = " + _shuffle + ", ");
            stringBuilder.Append("repeat_count = " + _repeatCount);
            return true;
        }
    }


    [System.CodeDom.Compiler.GeneratedCodeAttribute("Bonsai.Sgen", "0.3.0.0 (Newtonsoft.Json v13.0.0.0)")]
    [Bonsai.CombinatorAttribute()]
    [Bonsai.WorkflowElementCategoryAttribute(Bonsai.ElementCategory.Source)]
    public partial class BlockGenerator : BlockStatistics
    {
    
        private bool _isBaited = false;
    
        private Distribution _blockSize;
    
        private Trial _trialStatistics = new Trial();
    
        public BlockGenerator()
        {
        }
    
        protected BlockGenerator(BlockGenerator other) : 
                base(other)
        {
            _isBaited = other._isBaited;
            _blockSize = other._blockSize;
            _trialStatistics = other._trialStatistics;
        }
    
        /// <summary>
        /// Whether the trials are baited
        /// </summary>
        [Newtonsoft.Json.JsonPropertyAttribute("is_baited")]
        [System.ComponentModel.DescriptionAttribute("Whether the trials are baited")]
        public bool IsBaited
        {
            get
            {
                return _isBaited;
            }
            set
            {
                _isBaited = value;
            }
        }
    
        /// <summary>
        /// Size of the block
        /// </summary>
        [System.Xml.Serialization.XmlIgnoreAttribute()]
        [Newtonsoft.Json.JsonPropertyAttribute("block_size")]
        [System.ComponentModel.DescriptionAttribute("Size of the block")]
        public Distribution BlockSize
        {
            get
            {
                return _blockSize;
            }
            set
            {
                _blockSize = value;
            }
        }
    
        /// <summary>
        /// Statistics of the trials in the block
        /// </summary>
        [System.Xml.Serialization.XmlIgnoreAttribute()]
        [Newtonsoft.Json.JsonPropertyAttribute("trial_statistics", Required=Newtonsoft.Json.Required.Always)]
        [System.ComponentModel.DescriptionAttribute("Statistics of the trials in the block")]
        public Trial TrialStatistics
        {
            get
            {
                return _trialStatistics;
            }
            set
            {
                _trialStatistics = value;
            }
        }
    
        public System.IObservable<BlockGenerator> Process()
        {
            return System.Reactive.Linq.Observable.Defer(() => System.Reactive.Linq.Observable.Return(new BlockGenerator(this)));
        }
    
        public System.IObservable<BlockGenerator> Process<TSource>(System.IObservable<TSource> source)
        {
            return System.Reactive.Linq.Observable.Select(source, _ => new BlockGenerator(this));
        }
    
        protected override bool PrintMembers(System.Text.StringBuilder stringBuilder)
        {
            if (base.PrintMembers(stringBuilder))
            {
                stringBuilder.Append(", ");
            }
            stringBuilder.Append("is_baited = " + _isBaited + ", ");
            stringBuilder.Append("block_size = " + _blockSize + ", ");
            stringBuilder.Append("trial_statistics = " + _trialStatistics);
            return true;
        }
    }


    [System.CodeDom.Compiler.GeneratedCodeAttribute("Bonsai.Sgen", "0.3.0.0 (Newtonsoft.Json v13.0.0.0)")]
    [Newtonsoft.Json.JsonConverter(typeof(JsonInheritanceConverter), "mode")]
    [JsonInheritanceAttribute("Block", typeof(Block))]
    [JsonInheritanceAttribute("BlockGenerator", typeof(BlockGenerator))]
    [Bonsai.CombinatorAttribute()]
    [Bonsai.WorkflowElementCategoryAttribute(Bonsai.ElementCategory.Source)]
    public partial class BlockStatistics
    {
    
        public BlockStatistics()
        {
        }
    
        protected BlockStatistics(BlockStatistics other)
        {
        }
    
        public System.IObservable<BlockStatistics> Process()
        {
            return System.Reactive.Linq.Observable.Defer(() => System.Reactive.Linq.Observable.Return(new BlockStatistics(this)));
        }
    
        public System.IObservable<BlockStatistics> Process<TSource>(System.IObservable<TSource> source)
        {
            return System.Reactive.Linq.Observable.Select(source, _ => new BlockStatistics(this));
        }
    
        protected virtual bool PrintMembers(System.Text.StringBuilder stringBuilder)
        {
            return false;
        }
    
        public override string ToString()
        {
            System.Text.StringBuilder stringBuilder = new System.Text.StringBuilder();
            stringBuilder.Append(GetType().Name);
            stringBuilder.Append(" { ");
            if (PrintMembers(stringBuilder))
            {
                stringBuilder.Append(" ");
            }
            stringBuilder.Append("}");
            return stringBuilder.ToString();
        }
    }


    [System.CodeDom.Compiler.GeneratedCodeAttribute("Bonsai.Sgen", "0.3.0.0 (Newtonsoft.Json v13.0.0.0)")]
    [Newtonsoft.Json.JsonConverter(typeof(JsonInheritanceConverter), "continuous_feedback_mode")]
    [JsonInheritanceAttribute("Manipulator", typeof(ManipulatorFeedback))]
    [JsonInheritanceAttribute("Audio", typeof(AudioFeedback))]
    [Bonsai.CombinatorAttribute()]
    [Bonsai.WorkflowElementCategoryAttribute(Bonsai.ElementCategory.Source)]
    public partial class ContinuousFeedback
    {
    
        public ContinuousFeedback()
        {
        }
    
        protected ContinuousFeedback(ContinuousFeedback other)
        {
        }
    
        public System.IObservable<ContinuousFeedback> Process()
        {
            return System.Reactive.Linq.Observable.Defer(() => System.Reactive.Linq.Observable.Return(new ContinuousFeedback(this)));
        }
    
        public System.IObservable<ContinuousFeedback> Process<TSource>(System.IObservable<TSource> source)
        {
            return System.Reactive.Linq.Observable.Select(source, _ => new ContinuousFeedback(this));
        }
    
        protected virtual bool PrintMembers(System.Text.StringBuilder stringBuilder)
        {
            return false;
        }
    
        public override string ToString()
        {
            System.Text.StringBuilder stringBuilder = new System.Text.StringBuilder();
            stringBuilder.Append(GetType().Name);
            stringBuilder.Append(" { ");
            if (PrintMembers(stringBuilder))
            {
                stringBuilder.Append(" ");
            }
            stringBuilder.Append("}");
            return stringBuilder.ToString();
        }
    }


    [System.CodeDom.Compiler.GeneratedCodeAttribute("Bonsai.Sgen", "0.3.0.0 (Newtonsoft.Json v13.0.0.0)")]
    [Newtonsoft.Json.JsonConverter(typeof(JsonInheritanceConverter), "family")]
    [JsonInheritanceAttribute("Scalar", typeof(Scalar))]
    [JsonInheritanceAttribute("Normal", typeof(NormalDistribution))]
    [JsonInheritanceAttribute("LogNormal", typeof(LogNormalDistribution))]
    [JsonInheritanceAttribute("Exponential", typeof(ExponentialDistribution))]
    [JsonInheritanceAttribute("Uniform", typeof(UniformDistribution))]
    [JsonInheritanceAttribute("Poisson", typeof(PoissonDistribution))]
    [JsonInheritanceAttribute("Binomial", typeof(BinomialDistribution))]
    [JsonInheritanceAttribute("Beta", typeof(BetaDistribution))]
    [JsonInheritanceAttribute("Gamma", typeof(GammaDistribution))]
    [JsonInheritanceAttribute("Pdf", typeof(PdfDistribution))]
    [Bonsai.CombinatorAttribute()]
    [Bonsai.WorkflowElementCategoryAttribute(Bonsai.ElementCategory.Source)]
    public partial class Distribution
    {
    
        public Distribution()
        {
        }
    
        protected Distribution(Distribution other)
        {
        }
    
        public System.IObservable<Distribution> Process()
        {
            return System.Reactive.Linq.Observable.Defer(() => System.Reactive.Linq.Observable.Return(new Distribution(this)));
        }
    
        public System.IObservable<Distribution> Process<TSource>(System.IObservable<TSource> source)
        {
            return System.Reactive.Linq.Observable.Select(source, _ => new Distribution(this));
        }
    
        protected virtual bool PrintMembers(System.Text.StringBuilder stringBuilder)
        {
            return false;
        }
    
        public override string ToString()
        {
            System.Text.StringBuilder stringBuilder = new System.Text.StringBuilder();
            stringBuilder.Append(GetType().Name);
            stringBuilder.Append(" { ");
            if (PrintMembers(stringBuilder))
            {
                stringBuilder.Append(" ");
            }
            stringBuilder.Append("}");
            return stringBuilder.ToString();
        }
    }


    [System.CodeDom.Compiler.GeneratedCodeAttribute("Bonsai.Sgen", "0.3.0.0 (Newtonsoft.Json v13.0.0.0)")]
    [Bonsai.CombinatorAttribute()]
    [Bonsai.WorkflowElementCategoryAttribute(Bonsai.ElementCategory.Source)]
    public partial class Environment
    {
    
        private System.Collections.Generic.List<BlockStatistics> _blockStatistics = new System.Collections.Generic.List<BlockStatistics>();
    
        private bool _shuffle = false;
    
        private int? _repeatCount;
    
        public Environment()
        {
        }
    
        protected Environment(Environment other)
        {
            _blockStatistics = other._blockStatistics;
            _shuffle = other._shuffle;
            _repeatCount = other._repeatCount;
        }
    
        /// <summary>
        /// Statistics of the environment
        /// </summary>
        [System.Xml.Serialization.XmlIgnoreAttribute()]
        [Newtonsoft.Json.JsonPropertyAttribute("block_statistics", Required=Newtonsoft.Json.Required.Always)]
        [System.ComponentModel.DescriptionAttribute("Statistics of the environment")]
        public System.Collections.Generic.List<BlockStatistics> BlockStatistics
        {
            get
            {
                return _blockStatistics;
            }
            set
            {
                _blockStatistics = value;
            }
        }
    
        /// <summary>
        /// Whether to shuffle the blocks
        /// </summary>
        [Newtonsoft.Json.JsonPropertyAttribute("shuffle")]
        [System.ComponentModel.DescriptionAttribute("Whether to shuffle the blocks")]
        public bool Shuffle
        {
            get
            {
                return _shuffle;
            }
            set
            {
                _shuffle = value;
            }
        }
    
        /// <summary>
        /// Number of times to repeat the environment. If null, the environment will be repeated indefinitely
        /// </summary>
        [System.Xml.Serialization.XmlIgnoreAttribute()]
        [Newtonsoft.Json.JsonPropertyAttribute("repeat_count")]
        [System.ComponentModel.DescriptionAttribute("Number of times to repeat the environment. If null, the environment will be repea" +
            "ted indefinitely")]
        public int? RepeatCount
        {
            get
            {
                return _repeatCount;
            }
            set
            {
                _repeatCount = value;
            }
        }
    
        public System.IObservable<Environment> Process()
        {
            return System.Reactive.Linq.Observable.Defer(() => System.Reactive.Linq.Observable.Return(new Environment(this)));
        }
    
        public System.IObservable<Environment> Process<TSource>(System.IObservable<TSource> source)
        {
            return System.Reactive.Linq.Observable.Select(source, _ => new Environment(this));
        }
    
        protected virtual bool PrintMembers(System.Text.StringBuilder stringBuilder)
        {
            stringBuilder.Append("block_statistics = " + _blockStatistics + ", ");
            stringBuilder.Append("shuffle = " + _shuffle + ", ");
            stringBuilder.Append("repeat_count = " + _repeatCount);
            return true;
        }
    
        public override string ToString()
        {
            System.Text.StringBuilder stringBuilder = new System.Text.StringBuilder();
            stringBuilder.Append(GetType().Name);
            stringBuilder.Append(" { ");
            if (PrintMembers(stringBuilder))
            {
                stringBuilder.Append(" ");
            }
            stringBuilder.Append("}");
            return stringBuilder.ToString();
        }
    }


    [System.CodeDom.Compiler.GeneratedCodeAttribute("Bonsai.Sgen", "0.3.0.0 (Newtonsoft.Json v13.0.0.0)")]
    [Bonsai.CombinatorAttribute()]
    [Bonsai.WorkflowElementCategoryAttribute(Bonsai.ElementCategory.Source)]
    public partial class ExponentialDistribution : Distribution
    {
    
        private ExponentialDistributionParameters _distributionParameters;
    
        private TruncationParameters _truncationParameters;
    
        private ScalingParameters _scalingParameters;
    
        public ExponentialDistribution()
        {
        }
    
        protected ExponentialDistribution(ExponentialDistribution other) : 
                base(other)
        {
            _distributionParameters = other._distributionParameters;
            _truncationParameters = other._truncationParameters;
            _scalingParameters = other._scalingParameters;
        }
    
        /// <summary>
        /// Parameters of the distribution
        /// </summary>
        [System.Xml.Serialization.XmlIgnoreAttribute()]
        [Newtonsoft.Json.JsonPropertyAttribute("distribution_parameters")]
        [System.ComponentModel.DescriptionAttribute("Parameters of the distribution")]
        public ExponentialDistributionParameters DistributionParameters
        {
            get
            {
                return _distributionParameters;
            }
            set
            {
                _distributionParameters = value;
            }
        }
    
        /// <summary>
        /// Truncation parameters of the distribution
        /// </summary>
        [System.Xml.Serialization.XmlIgnoreAttribute()]
        [Newtonsoft.Json.JsonPropertyAttribute("truncation_parameters")]
        [System.ComponentModel.DescriptionAttribute("Truncation parameters of the distribution")]
        public TruncationParameters TruncationParameters
        {
            get
            {
                return _truncationParameters;
            }
            set
            {
                _truncationParameters = value;
            }
        }
    
        /// <summary>
        /// Scaling parameters of the distribution
        /// </summary>
        [System.Xml.Serialization.XmlIgnoreAttribute()]
        [Newtonsoft.Json.JsonPropertyAttribute("scaling_parameters")]
        [System.ComponentModel.DescriptionAttribute("Scaling parameters of the distribution")]
        public ScalingParameters ScalingParameters
        {
            get
            {
                return _scalingParameters;
            }
            set
            {
                _scalingParameters = value;
            }
        }
    
        public System.IObservable<ExponentialDistribution> Process()
        {
            return System.Reactive.Linq.Observable.Defer(() => System.Reactive.Linq.Observable.Return(new ExponentialDistribution(this)));
        }
    
        public System.IObservable<ExponentialDistribution> Process<TSource>(System.IObservable<TSource> source)
        {
            return System.Reactive.Linq.Observable.Select(source, _ => new ExponentialDistribution(this));
        }
    
        protected override bool PrintMembers(System.Text.StringBuilder stringBuilder)
        {
            if (base.PrintMembers(stringBuilder))
            {
                stringBuilder.Append(", ");
            }
            stringBuilder.Append("distribution_parameters = " + _distributionParameters + ", ");
            stringBuilder.Append("truncation_parameters = " + _truncationParameters + ", ");
            stringBuilder.Append("scaling_parameters = " + _scalingParameters);
            return true;
        }
    }


    [System.CodeDom.Compiler.GeneratedCodeAttribute("Bonsai.Sgen", "0.3.0.0 (Newtonsoft.Json v13.0.0.0)")]
    [Bonsai.CombinatorAttribute()]
    [Bonsai.WorkflowElementCategoryAttribute(Bonsai.ElementCategory.Source)]
    public partial class ExponentialDistributionParameters
    {
    
        private string _family = "Exponential";
    
        private double _rate = 0D;
    
        public ExponentialDistributionParameters()
        {
        }
    
        protected ExponentialDistributionParameters(ExponentialDistributionParameters other)
        {
            _family = other._family;
            _rate = other._rate;
        }
    
        [Newtonsoft.Json.JsonPropertyAttribute("family")]
        public string Family
        {
            get
            {
                return _family;
            }
            set
            {
                _family = value;
            }
        }
    
        /// <summary>
        /// Rate parameter of the distribution
        /// </summary>
        [Newtonsoft.Json.JsonPropertyAttribute("rate")]
        [System.ComponentModel.DescriptionAttribute("Rate parameter of the distribution")]
        public double Rate
        {
            get
            {
                return _rate;
            }
            set
            {
                _rate = value;
            }
        }
    
        public System.IObservable<ExponentialDistributionParameters> Process()
        {
            return System.Reactive.Linq.Observable.Defer(() => System.Reactive.Linq.Observable.Return(new ExponentialDistributionParameters(this)));
        }
    
        public System.IObservable<ExponentialDistributionParameters> Process<TSource>(System.IObservable<TSource> source)
        {
            return System.Reactive.Linq.Observable.Select(source, _ => new ExponentialDistributionParameters(this));
        }
    
        protected virtual bool PrintMembers(System.Text.StringBuilder stringBuilder)
        {
            stringBuilder.Append("family = " + _family + ", ");
            stringBuilder.Append("rate = " + _rate);
            return true;
        }
    
        public override string ToString()
        {
            System.Text.StringBuilder stringBuilder = new System.Text.StringBuilder();
            stringBuilder.Append(GetType().Name);
            stringBuilder.Append(" { ");
            if (PrintMembers(stringBuilder))
            {
                stringBuilder.Append(" ");
            }
            stringBuilder.Append("}");
            return stringBuilder.ToString();
        }
    }


    [System.CodeDom.Compiler.GeneratedCodeAttribute("Bonsai.Sgen", "0.3.0.0 (Newtonsoft.Json v13.0.0.0)")]
    [Bonsai.CombinatorAttribute()]
    [Bonsai.WorkflowElementCategoryAttribute(Bonsai.ElementCategory.Source)]
    public partial class ForceLookUpTable
    {
    
        private string _path;
    
        private double _offset = 0D;
    
        private double _scale = 1D;
    
        private double _leftMin;
    
        private double _leftMax;
    
        private double _rightMin;
    
        private double _rightMax;
    
        public ForceLookUpTable()
        {
        }
    
        protected ForceLookUpTable(ForceLookUpTable other)
        {
            _path = other._path;
            _offset = other._offset;
            _scale = other._scale;
            _leftMin = other._leftMin;
            _leftMax = other._leftMax;
            _rightMin = other._rightMin;
            _rightMax = other._rightMax;
        }
    
        /// <summary>
        /// Reference to the look up table image. Should be a 1 channel image. Value = LUT[Left, Right]
        /// </summary>
        [Newtonsoft.Json.JsonPropertyAttribute("path", Required=Newtonsoft.Json.Required.Always)]
        [System.ComponentModel.DescriptionAttribute("Reference to the look up table image. Should be a 1 channel image. Value = LUT[Le" +
            "ft, Right]")]
        public string Path
        {
            get
            {
                return _path;
            }
            set
            {
                _path = value;
            }
        }
    
        /// <summary>
        /// Offset to add to the look up table value
        /// </summary>
        [Newtonsoft.Json.JsonPropertyAttribute("offset")]
        [System.ComponentModel.DescriptionAttribute("Offset to add to the look up table value")]
        public double Offset
        {
            get
            {
                return _offset;
            }
            set
            {
                _offset = value;
            }
        }
    
        /// <summary>
        /// Scale to multiply the look up table value
        /// </summary>
        [Newtonsoft.Json.JsonPropertyAttribute("scale")]
        [System.ComponentModel.DescriptionAttribute("Scale to multiply the look up table value")]
        public double Scale
        {
            get
            {
                return _scale;
            }
            set
            {
                _scale = value;
            }
        }
    
        /// <summary>
        /// The lower value of Left force used to linearly scale the input coordinate to.
        /// </summary>
        [Newtonsoft.Json.JsonPropertyAttribute("left_min", Required=Newtonsoft.Json.Required.Always)]
        [System.ComponentModel.DescriptionAttribute("The lower value of Left force used to linearly scale the input coordinate to.")]
        public double LeftMin
        {
            get
            {
                return _leftMin;
            }
            set
            {
                _leftMin = value;
            }
        }
    
        /// <summary>
        /// The upper value of Left force used to linearly scale the input coordinate to.
        /// </summary>
        [Newtonsoft.Json.JsonPropertyAttribute("left_max", Required=Newtonsoft.Json.Required.Always)]
        [System.ComponentModel.DescriptionAttribute("The upper value of Left force used to linearly scale the input coordinate to.")]
        public double LeftMax
        {
            get
            {
                return _leftMax;
            }
            set
            {
                _leftMax = value;
            }
        }
    
        /// <summary>
        /// The lower value of Right force used to linearly scale the input coordinate to.
        /// </summary>
        [Newtonsoft.Json.JsonPropertyAttribute("right_min", Required=Newtonsoft.Json.Required.Always)]
        [System.ComponentModel.DescriptionAttribute("The lower value of Right force used to linearly scale the input coordinate to.")]
        public double RightMin
        {
            get
            {
                return _rightMin;
            }
            set
            {
                _rightMin = value;
            }
        }
    
        /// <summary>
        /// The upper value of Right force used to linearly scale the input coordinate to.
        /// </summary>
        [Newtonsoft.Json.JsonPropertyAttribute("right_max", Required=Newtonsoft.Json.Required.Always)]
        [System.ComponentModel.DescriptionAttribute("The upper value of Right force used to linearly scale the input coordinate to.")]
        public double RightMax
        {
            get
            {
                return _rightMax;
            }
            set
            {
                _rightMax = value;
            }
        }
    
        public System.IObservable<ForceLookUpTable> Process()
        {
            return System.Reactive.Linq.Observable.Defer(() => System.Reactive.Linq.Observable.Return(new ForceLookUpTable(this)));
        }
    
        public System.IObservable<ForceLookUpTable> Process<TSource>(System.IObservable<TSource> source)
        {
            return System.Reactive.Linq.Observable.Select(source, _ => new ForceLookUpTable(this));
        }
    
        protected virtual bool PrintMembers(System.Text.StringBuilder stringBuilder)
        {
            stringBuilder.Append("path = " + _path + ", ");
            stringBuilder.Append("offset = " + _offset + ", ");
            stringBuilder.Append("scale = " + _scale + ", ");
            stringBuilder.Append("left_min = " + _leftMin + ", ");
            stringBuilder.Append("left_max = " + _leftMax + ", ");
            stringBuilder.Append("right_min = " + _rightMin + ", ");
            stringBuilder.Append("right_max = " + _rightMax);
            return true;
        }
    
        public override string ToString()
        {
            System.Text.StringBuilder stringBuilder = new System.Text.StringBuilder();
            stringBuilder.Append(GetType().Name);
            stringBuilder.Append(" { ");
            if (PrintMembers(stringBuilder))
            {
                stringBuilder.Append(" ");
            }
            stringBuilder.Append("}");
            return stringBuilder.ToString();
        }
    }


    [System.CodeDom.Compiler.GeneratedCodeAttribute("Bonsai.Sgen", "0.3.0.0 (Newtonsoft.Json v13.0.0.0)")]
    [Bonsai.CombinatorAttribute()]
    [Bonsai.WorkflowElementCategoryAttribute(Bonsai.ElementCategory.Source)]
    public partial class ForceOperationControl
    {
    
        private PressMode _pressMode = AindForceForagingDataSchema.TaskLogic.PressMode.Double;
    
        private int _leftIndex = 0;
    
        private int _rightIndex = 1;
    
        private ForceLookUpTable _forceLookupTable;
    
        public ForceOperationControl()
        {
        }
    
        protected ForceOperationControl(ForceOperationControl other)
        {
            _pressMode = other._pressMode;
            _leftIndex = other._leftIndex;
            _rightIndex = other._rightIndex;
            _forceLookupTable = other._forceLookupTable;
        }
    
        /// <summary>
        /// Defines the press mode. Default is to use both sensors individually
        /// </summary>
        [System.Xml.Serialization.XmlIgnoreAttribute()]
        [Newtonsoft.Json.JsonPropertyAttribute("press_mode")]
        [System.ComponentModel.DescriptionAttribute("Defines the press mode. Default is to use both sensors individually")]
        public PressMode PressMode
        {
            get
            {
                return _pressMode;
            }
            set
            {
                _pressMode = value;
            }
        }
    
        /// <summary>
        /// Index of the left sensor
        /// </summary>
        [Newtonsoft.Json.JsonPropertyAttribute("left_index")]
        [System.ComponentModel.DescriptionAttribute("Index of the left sensor")]
        public int LeftIndex
        {
            get
            {
                return _leftIndex;
            }
            set
            {
                _leftIndex = value;
            }
        }
    
        /// <summary>
        /// Index of the right sensor
        /// </summary>
        [Newtonsoft.Json.JsonPropertyAttribute("right_index")]
        [System.ComponentModel.DescriptionAttribute("Index of the right sensor")]
        public int RightIndex
        {
            get
            {
                return _rightIndex;
            }
            set
            {
                _rightIndex = value;
            }
        }
    
        /// <summary>
        /// Look up table for force projection
        /// </summary>
        [System.Xml.Serialization.XmlIgnoreAttribute()]
        [Newtonsoft.Json.JsonPropertyAttribute("force_lookup_table")]
        [System.ComponentModel.DescriptionAttribute("Look up table for force projection")]
        public ForceLookUpTable ForceLookupTable
        {
            get
            {
                return _forceLookupTable;
            }
            set
            {
                _forceLookupTable = value;
            }
        }
    
        public System.IObservable<ForceOperationControl> Process()
        {
            return System.Reactive.Linq.Observable.Defer(() => System.Reactive.Linq.Observable.Return(new ForceOperationControl(this)));
        }
    
        public System.IObservable<ForceOperationControl> Process<TSource>(System.IObservable<TSource> source)
        {
            return System.Reactive.Linq.Observable.Select(source, _ => new ForceOperationControl(this));
        }
    
        protected virtual bool PrintMembers(System.Text.StringBuilder stringBuilder)
        {
            stringBuilder.Append("press_mode = " + _pressMode + ", ");
            stringBuilder.Append("left_index = " + _leftIndex + ", ");
            stringBuilder.Append("right_index = " + _rightIndex + ", ");
            stringBuilder.Append("force_lookup_table = " + _forceLookupTable);
            return true;
        }
    
        public override string ToString()
        {
            System.Text.StringBuilder stringBuilder = new System.Text.StringBuilder();
            stringBuilder.Append(GetType().Name);
            stringBuilder.Append(" { ");
            if (PrintMembers(stringBuilder))
            {
                stringBuilder.Append(" ");
            }
            stringBuilder.Append("}");
            return stringBuilder.ToString();
        }
    }


    [System.CodeDom.Compiler.GeneratedCodeAttribute("Bonsai.Sgen", "0.3.0.0 (Newtonsoft.Json v13.0.0.0)")]
    [Bonsai.CombinatorAttribute()]
    [Bonsai.WorkflowElementCategoryAttribute(Bonsai.ElementCategory.Source)]
    public partial class GammaDistribution : Distribution
    {
    
        private GammaDistributionParameters _distributionParameters;
    
        private TruncationParameters _truncationParameters;
    
        private ScalingParameters _scalingParameters;
    
        public GammaDistribution()
        {
        }
    
        protected GammaDistribution(GammaDistribution other) : 
                base(other)
        {
            _distributionParameters = other._distributionParameters;
            _truncationParameters = other._truncationParameters;
            _scalingParameters = other._scalingParameters;
        }
    
        /// <summary>
        /// Parameters of the distribution
        /// </summary>
        [System.Xml.Serialization.XmlIgnoreAttribute()]
        [Newtonsoft.Json.JsonPropertyAttribute("distribution_parameters")]
        [System.ComponentModel.DescriptionAttribute("Parameters of the distribution")]
        public GammaDistributionParameters DistributionParameters
        {
            get
            {
                return _distributionParameters;
            }
            set
            {
                _distributionParameters = value;
            }
        }
    
        /// <summary>
        /// Truncation parameters of the distribution
        /// </summary>
        [System.Xml.Serialization.XmlIgnoreAttribute()]
        [Newtonsoft.Json.JsonPropertyAttribute("truncation_parameters")]
        [System.ComponentModel.DescriptionAttribute("Truncation parameters of the distribution")]
        public TruncationParameters TruncationParameters
        {
            get
            {
                return _truncationParameters;
            }
            set
            {
                _truncationParameters = value;
            }
        }
    
        /// <summary>
        /// Scaling parameters of the distribution
        /// </summary>
        [System.Xml.Serialization.XmlIgnoreAttribute()]
        [Newtonsoft.Json.JsonPropertyAttribute("scaling_parameters")]
        [System.ComponentModel.DescriptionAttribute("Scaling parameters of the distribution")]
        public ScalingParameters ScalingParameters
        {
            get
            {
                return _scalingParameters;
            }
            set
            {
                _scalingParameters = value;
            }
        }
    
        public System.IObservable<GammaDistribution> Process()
        {
            return System.Reactive.Linq.Observable.Defer(() => System.Reactive.Linq.Observable.Return(new GammaDistribution(this)));
        }
    
        public System.IObservable<GammaDistribution> Process<TSource>(System.IObservable<TSource> source)
        {
            return System.Reactive.Linq.Observable.Select(source, _ => new GammaDistribution(this));
        }
    
        protected override bool PrintMembers(System.Text.StringBuilder stringBuilder)
        {
            if (base.PrintMembers(stringBuilder))
            {
                stringBuilder.Append(", ");
            }
            stringBuilder.Append("distribution_parameters = " + _distributionParameters + ", ");
            stringBuilder.Append("truncation_parameters = " + _truncationParameters + ", ");
            stringBuilder.Append("scaling_parameters = " + _scalingParameters);
            return true;
        }
    }


    [System.CodeDom.Compiler.GeneratedCodeAttribute("Bonsai.Sgen", "0.3.0.0 (Newtonsoft.Json v13.0.0.0)")]
    [Bonsai.CombinatorAttribute()]
    [Bonsai.WorkflowElementCategoryAttribute(Bonsai.ElementCategory.Source)]
    public partial class GammaDistributionParameters
    {
    
        private string _family = "Gamma";
    
        private double _shape = 1D;
    
        private double _rate = 1D;
    
        public GammaDistributionParameters()
        {
        }
    
        protected GammaDistributionParameters(GammaDistributionParameters other)
        {
            _family = other._family;
            _shape = other._shape;
            _rate = other._rate;
        }
    
        [Newtonsoft.Json.JsonPropertyAttribute("family")]
        public string Family
        {
            get
            {
                return _family;
            }
            set
            {
                _family = value;
            }
        }
    
        /// <summary>
        /// Shape parameter of the distribution
        /// </summary>
        [Newtonsoft.Json.JsonPropertyAttribute("shape")]
        [System.ComponentModel.DescriptionAttribute("Shape parameter of the distribution")]
        public double Shape
        {
            get
            {
                return _shape;
            }
            set
            {
                _shape = value;
            }
        }
    
        /// <summary>
        /// Rate parameter of the distribution
        /// </summary>
        [Newtonsoft.Json.JsonPropertyAttribute("rate")]
        [System.ComponentModel.DescriptionAttribute("Rate parameter of the distribution")]
        public double Rate
        {
            get
            {
                return _rate;
            }
            set
            {
                _rate = value;
            }
        }
    
        public System.IObservable<GammaDistributionParameters> Process()
        {
            return System.Reactive.Linq.Observable.Defer(() => System.Reactive.Linq.Observable.Return(new GammaDistributionParameters(this)));
        }
    
        public System.IObservable<GammaDistributionParameters> Process<TSource>(System.IObservable<TSource> source)
        {
            return System.Reactive.Linq.Observable.Select(source, _ => new GammaDistributionParameters(this));
        }
    
        protected virtual bool PrintMembers(System.Text.StringBuilder stringBuilder)
        {
            stringBuilder.Append("family = " + _family + ", ");
            stringBuilder.Append("shape = " + _shape + ", ");
            stringBuilder.Append("rate = " + _rate);
            return true;
        }
    
        public override string ToString()
        {
            System.Text.StringBuilder stringBuilder = new System.Text.StringBuilder();
            stringBuilder.Append(GetType().Name);
            stringBuilder.Append(" { ");
            if (PrintMembers(stringBuilder))
            {
                stringBuilder.Append(" ");
            }
            stringBuilder.Append("}");
            return stringBuilder.ToString();
        }
    }


    /// <summary>
    /// Defines an abstract class for an harvest action
    /// </summary>
    [System.CodeDom.Compiler.GeneratedCodeAttribute("Bonsai.Sgen", "0.3.0.0 (Newtonsoft.Json v13.0.0.0)")]
    [System.ComponentModel.DescriptionAttribute("Defines an abstract class for an harvest action")]
    [Bonsai.CombinatorAttribute()]
    [Bonsai.WorkflowElementCategoryAttribute(Bonsai.ElementCategory.Source)]
    public partial class HarvestAction
    {
    
        private HarvestActionLabel _action = AindForceForagingDataSchema.TaskLogic.HarvestActionLabel.None;
    
        private HarvestMode _harvestMode;
    
        private double _probability = 1D;
    
        private double _amount = 1D;
    
        private double _delay = 0D;
    
        private double _forceDuration = 0.5D;
    
        private double _upperForceThreshold = 30000D;
    
        private double _lowerForceThreshold = 5000D;
    
        private bool _isOperant = true;
    
        private Distribution _timeToCollect;
    
        private System.Collections.Generic.List<ActionUpdater> _actionUpdaters = new System.Collections.Generic.List<ActionUpdater>();
    
        private ContinuousFeedback _continuousFeedback;
    
        public HarvestAction()
        {
        }
    
        protected HarvestAction(HarvestAction other)
        {
            _action = other._action;
            _harvestMode = other._harvestMode;
            _probability = other._probability;
            _amount = other._amount;
            _delay = other._delay;
            _forceDuration = other._forceDuration;
            _upperForceThreshold = other._upperForceThreshold;
            _lowerForceThreshold = other._lowerForceThreshold;
            _isOperant = other._isOperant;
            _timeToCollect = other._timeToCollect;
            _actionUpdaters = other._actionUpdaters;
            _continuousFeedback = other._continuousFeedback;
        }
    
        /// <summary>
        /// Label of the action
        /// </summary>
        [System.Xml.Serialization.XmlIgnoreAttribute()]
        [Newtonsoft.Json.JsonPropertyAttribute("action")]
        [System.ComponentModel.DescriptionAttribute("Label of the action")]
        public HarvestActionLabel Action
        {
            get
            {
                return _action;
            }
            set
            {
                _action = value;
            }
        }
    
        /// <summary>
        /// Type of the trial
        /// </summary>
        [System.Xml.Serialization.XmlIgnoreAttribute()]
        [Newtonsoft.Json.JsonPropertyAttribute("harvest_mode", Required=Newtonsoft.Json.Required.Always)]
        [System.ComponentModel.DescriptionAttribute("Type of the trial")]
        public HarvestMode HarvestMode
        {
            get
            {
                return _harvestMode;
            }
            set
            {
                _harvestMode = value;
            }
        }
    
        /// <summary>
        /// Probability of reward
        /// </summary>
        [Newtonsoft.Json.JsonPropertyAttribute("probability")]
        [System.ComponentModel.DescriptionAttribute("Probability of reward")]
        public double Probability
        {
            get
            {
                return _probability;
            }
            set
            {
                _probability = value;
            }
        }
    
        /// <summary>
        /// Amount of reward to be delivered
        /// </summary>
        [Newtonsoft.Json.JsonPropertyAttribute("amount")]
        [System.ComponentModel.DescriptionAttribute("Amount of reward to be delivered")]
        public double Amount
        {
            get
            {
                return _amount;
            }
            set
            {
                _amount = value;
            }
        }
    
        /// <summary>
        /// Delay between successful harvest and reward delivery
        /// </summary>
        [Newtonsoft.Json.JsonPropertyAttribute("delay")]
        [System.ComponentModel.DescriptionAttribute("Delay between successful harvest and reward delivery")]
        public double Delay
        {
            get
            {
                return _delay;
            }
            set
            {
                _delay = value;
            }
        }
    
        /// <summary>
        /// Duration that the force much stay above threshold
        /// </summary>
        [Newtonsoft.Json.JsonPropertyAttribute("force_duration")]
        [System.ComponentModel.DescriptionAttribute("Duration that the force much stay above threshold")]
        public double ForceDuration
        {
            get
            {
                return _forceDuration;
            }
            set
            {
                _forceDuration = value;
            }
        }
    
        /// <summary>
        /// Upper bound of the force target region or the target cached force required.
        /// </summary>
        [Newtonsoft.Json.JsonPropertyAttribute("upper_force_threshold")]
        [System.ComponentModel.DescriptionAttribute("Upper bound of the force target region or the target cached force required.")]
        public double UpperForceThreshold
        {
            get
            {
                return _upperForceThreshold;
            }
            set
            {
                _upperForceThreshold = value;
            }
        }
    
        /// <summary>
        /// Lower bound of the force target region.
        /// </summary>
        [Newtonsoft.Json.JsonPropertyAttribute("lower_force_threshold")]
        [System.ComponentModel.DescriptionAttribute("Lower bound of the force target region.")]
        public double LowerForceThreshold
        {
            get
            {
                return _lowerForceThreshold;
            }
            set
            {
                _lowerForceThreshold = value;
            }
        }
    
        /// <summary>
        /// Whether the reward delivery is contingent on licking.
        /// </summary>
        [Newtonsoft.Json.JsonPropertyAttribute("is_operant")]
        [System.ComponentModel.DescriptionAttribute("Whether the reward delivery is contingent on licking.")]
        public bool IsOperant
        {
            get
            {
                return _isOperant;
            }
            set
            {
                _isOperant = value;
            }
        }
    
        /// <summary>
        /// Time to collect the reward after it is available. If null, the reward will be available indefinitely.
        /// </summary>
        [System.Xml.Serialization.XmlIgnoreAttribute()]
        [Newtonsoft.Json.JsonPropertyAttribute("time_to_collect")]
        [System.ComponentModel.DescriptionAttribute("Time to collect the reward after it is available. If null, the reward will be ava" +
            "ilable indefinitely.")]
        public Distribution TimeToCollect
        {
            get
            {
                return _timeToCollect;
            }
            set
            {
                _timeToCollect = value;
            }
        }
    
        /// <summary>
        /// List of action updaters. All updaters are called at the start of a new trial.
        /// </summary>
        [System.Xml.Serialization.XmlIgnoreAttribute()]
        [Newtonsoft.Json.JsonPropertyAttribute("action_updaters")]
        [System.ComponentModel.DescriptionAttribute("List of action updaters. All updaters are called at the start of a new trial.")]
        public System.Collections.Generic.List<ActionUpdater> ActionUpdaters
        {
            get
            {
                return _actionUpdaters;
            }
            set
            {
                _actionUpdaters = value;
            }
        }
    
        /// <summary>
        /// Continuous feedback settings
        /// </summary>
        [System.Xml.Serialization.XmlIgnoreAttribute()]
        [Newtonsoft.Json.JsonPropertyAttribute("continuous_feedback")]
        [System.ComponentModel.DescriptionAttribute("Continuous feedback settings")]
        public ContinuousFeedback ContinuousFeedback
        {
            get
            {
                return _continuousFeedback;
            }
            set
            {
                _continuousFeedback = value;
            }
        }
    
        public System.IObservable<HarvestAction> Process()
        {
            return System.Reactive.Linq.Observable.Defer(() => System.Reactive.Linq.Observable.Return(new HarvestAction(this)));
        }
    
        public System.IObservable<HarvestAction> Process<TSource>(System.IObservable<TSource> source)
        {
            return System.Reactive.Linq.Observable.Select(source, _ => new HarvestAction(this));
        }
    
        protected virtual bool PrintMembers(System.Text.StringBuilder stringBuilder)
        {
            stringBuilder.Append("action = " + _action + ", ");
            stringBuilder.Append("harvest_mode = " + _harvestMode + ", ");
            stringBuilder.Append("probability = " + _probability + ", ");
            stringBuilder.Append("amount = " + _amount + ", ");
            stringBuilder.Append("delay = " + _delay + ", ");
            stringBuilder.Append("force_duration = " + _forceDuration + ", ");
            stringBuilder.Append("upper_force_threshold = " + _upperForceThreshold + ", ");
            stringBuilder.Append("lower_force_threshold = " + _lowerForceThreshold + ", ");
            stringBuilder.Append("is_operant = " + _isOperant + ", ");
            stringBuilder.Append("time_to_collect = " + _timeToCollect + ", ");
            stringBuilder.Append("action_updaters = " + _actionUpdaters + ", ");
            stringBuilder.Append("continuous_feedback = " + _continuousFeedback);
            return true;
        }
    
        public override string ToString()
        {
            System.Text.StringBuilder stringBuilder = new System.Text.StringBuilder();
            stringBuilder.Append(GetType().Name);
            stringBuilder.Append(" { ");
            if (PrintMembers(stringBuilder))
            {
                stringBuilder.Append(" ");
            }
            stringBuilder.Append("}");
            return stringBuilder.ToString();
        }
    }


    /// <summary>
    /// Defines the harvest actions
    /// </summary>
    [System.CodeDom.Compiler.GeneratedCodeAttribute("Bonsai.Sgen", "0.3.0.0 (Newtonsoft.Json v13.0.0.0)")]
    [Newtonsoft.Json.JsonConverter(typeof(Newtonsoft.Json.Converters.StringEnumConverter))]
    public enum HarvestActionLabel
    {
    
        [System.Runtime.Serialization.EnumMemberAttribute(Value="Left")]
        Left = 0,
    
        [System.Runtime.Serialization.EnumMemberAttribute(Value="Right")]
        Right = 1,
    
        [System.Runtime.Serialization.EnumMemberAttribute(Value="None")]
        None = 2,
    }


    /// <summary>
    /// Defines the trial types
    /// </summary>
    [System.CodeDom.Compiler.GeneratedCodeAttribute("Bonsai.Sgen", "0.3.0.0 (Newtonsoft.Json v13.0.0.0)")]
    [Newtonsoft.Json.JsonConverter(typeof(Newtonsoft.Json.Converters.StringEnumConverter))]
    public enum HarvestMode
    {
    
        [System.Runtime.Serialization.EnumMemberAttribute(Value="None")]
        None = 0,
    
        [System.Runtime.Serialization.EnumMemberAttribute(Value="Accumulation")]
        Accumulation = 1,
    
        [System.Runtime.Serialization.EnumMemberAttribute(Value="RegionOfInterest")]
        RegionOfInterest = 2,
    }


    /// <summary>
    /// Defines an initiation period
    /// </summary>
    [System.CodeDom.Compiler.GeneratedCodeAttribute("Bonsai.Sgen", "0.3.0.0 (Newtonsoft.Json v13.0.0.0)")]
    [System.ComponentModel.DescriptionAttribute("Defines an initiation period")]
    [Bonsai.CombinatorAttribute()]
    [Bonsai.WorkflowElementCategoryAttribute(Bonsai.ElementCategory.Source)]
    public partial class InitiationPeriod
    {
    
        private Distribution _duration;
    
        private bool _hasCue = true;
    
        private bool _abortOnForce = false;
    
        private double _abortOnForceThreshold = 0D;
    
        public InitiationPeriod()
        {
        }
    
        protected InitiationPeriod(InitiationPeriod other)
        {
            _duration = other._duration;
            _hasCue = other._hasCue;
            _abortOnForce = other._abortOnForce;
            _abortOnForceThreshold = other._abortOnForceThreshold;
        }
    
        /// <summary>
        /// Duration of the initiation period
        /// </summary>
        [System.Xml.Serialization.XmlIgnoreAttribute()]
        [Newtonsoft.Json.JsonPropertyAttribute("duration")]
        [System.ComponentModel.DescriptionAttribute("Duration of the initiation period")]
        public Distribution Duration
        {
            get
            {
                return _duration;
            }
            set
            {
                _duration = value;
            }
        }
    
        /// <summary>
        /// Whether to use a cue to signal the start of the period.
        /// </summary>
        [Newtonsoft.Json.JsonPropertyAttribute("has_cue")]
        [System.ComponentModel.DescriptionAttribute("Whether to use a cue to signal the start of the period.")]
        public bool HasCue
        {
            get
            {
                return _hasCue;
            }
            set
            {
                _hasCue = value;
            }
        }
    
        /// <summary>
        /// Whether to abort the trial if a choice is made during the initiation period.
        /// </summary>
        [Newtonsoft.Json.JsonPropertyAttribute("abort_on_force")]
        [System.ComponentModel.DescriptionAttribute("Whether to abort the trial if a choice is made during the initiation period.")]
        public bool AbortOnForce
        {
            get
            {
                return _abortOnForce;
            }
            set
            {
                _abortOnForce = value;
            }
        }
    
        /// <summary>
        /// Time out for the quiescence period
        /// </summary>
        [Newtonsoft.Json.JsonPropertyAttribute("abort_on_force_threshold")]
        [System.ComponentModel.DescriptionAttribute("Time out for the quiescence period")]
        public double AbortOnForceThreshold
        {
            get
            {
                return _abortOnForceThreshold;
            }
            set
            {
                _abortOnForceThreshold = value;
            }
        }
    
        public System.IObservable<InitiationPeriod> Process()
        {
            return System.Reactive.Linq.Observable.Defer(() => System.Reactive.Linq.Observable.Return(new InitiationPeriod(this)));
        }
    
        public System.IObservable<InitiationPeriod> Process<TSource>(System.IObservable<TSource> source)
        {
            return System.Reactive.Linq.Observable.Select(source, _ => new InitiationPeriod(this));
        }
    
        protected virtual bool PrintMembers(System.Text.StringBuilder stringBuilder)
        {
            stringBuilder.Append("duration = " + _duration + ", ");
            stringBuilder.Append("has_cue = " + _hasCue + ", ");
            stringBuilder.Append("abort_on_force = " + _abortOnForce + ", ");
            stringBuilder.Append("abort_on_force_threshold = " + _abortOnForceThreshold);
            return true;
        }
    
        public override string ToString()
        {
            System.Text.StringBuilder stringBuilder = new System.Text.StringBuilder();
            stringBuilder.Append(GetType().Name);
            stringBuilder.Append(" { ");
            if (PrintMembers(stringBuilder))
            {
                stringBuilder.Append(" ");
            }
            stringBuilder.Append("}");
            return stringBuilder.ToString();
        }
    }


    [System.CodeDom.Compiler.GeneratedCodeAttribute("Bonsai.Sgen", "0.3.0.0 (Newtonsoft.Json v13.0.0.0)")]
    [Bonsai.CombinatorAttribute()]
    [Bonsai.WorkflowElementCategoryAttribute(Bonsai.ElementCategory.Source)]
    public partial class LogNormalDistribution : Distribution
    {
    
        private LogNormalDistributionParameters _distributionParameters;
    
        private TruncationParameters _truncationParameters;
    
        private ScalingParameters _scalingParameters;
    
        public LogNormalDistribution()
        {
        }
    
        protected LogNormalDistribution(LogNormalDistribution other) : 
                base(other)
        {
            _distributionParameters = other._distributionParameters;
            _truncationParameters = other._truncationParameters;
            _scalingParameters = other._scalingParameters;
        }
    
        /// <summary>
        /// Parameters of the distribution
        /// </summary>
        [System.Xml.Serialization.XmlIgnoreAttribute()]
        [Newtonsoft.Json.JsonPropertyAttribute("distribution_parameters")]
        [System.ComponentModel.DescriptionAttribute("Parameters of the distribution")]
        public LogNormalDistributionParameters DistributionParameters
        {
            get
            {
                return _distributionParameters;
            }
            set
            {
                _distributionParameters = value;
            }
        }
    
        /// <summary>
        /// Truncation parameters of the distribution
        /// </summary>
        [System.Xml.Serialization.XmlIgnoreAttribute()]
        [Newtonsoft.Json.JsonPropertyAttribute("truncation_parameters")]
        [System.ComponentModel.DescriptionAttribute("Truncation parameters of the distribution")]
        public TruncationParameters TruncationParameters
        {
            get
            {
                return _truncationParameters;
            }
            set
            {
                _truncationParameters = value;
            }
        }
    
        /// <summary>
        /// Scaling parameters of the distribution
        /// </summary>
        [System.Xml.Serialization.XmlIgnoreAttribute()]
        [Newtonsoft.Json.JsonPropertyAttribute("scaling_parameters")]
        [System.ComponentModel.DescriptionAttribute("Scaling parameters of the distribution")]
        public ScalingParameters ScalingParameters
        {
            get
            {
                return _scalingParameters;
            }
            set
            {
                _scalingParameters = value;
            }
        }
    
        public System.IObservable<LogNormalDistribution> Process()
        {
            return System.Reactive.Linq.Observable.Defer(() => System.Reactive.Linq.Observable.Return(new LogNormalDistribution(this)));
        }
    
        public System.IObservable<LogNormalDistribution> Process<TSource>(System.IObservable<TSource> source)
        {
            return System.Reactive.Linq.Observable.Select(source, _ => new LogNormalDistribution(this));
        }
    
        protected override bool PrintMembers(System.Text.StringBuilder stringBuilder)
        {
            if (base.PrintMembers(stringBuilder))
            {
                stringBuilder.Append(", ");
            }
            stringBuilder.Append("distribution_parameters = " + _distributionParameters + ", ");
            stringBuilder.Append("truncation_parameters = " + _truncationParameters + ", ");
            stringBuilder.Append("scaling_parameters = " + _scalingParameters);
            return true;
        }
    }


    [System.CodeDom.Compiler.GeneratedCodeAttribute("Bonsai.Sgen", "0.3.0.0 (Newtonsoft.Json v13.0.0.0)")]
    [Bonsai.CombinatorAttribute()]
    [Bonsai.WorkflowElementCategoryAttribute(Bonsai.ElementCategory.Source)]
    public partial class LogNormalDistributionParameters
    {
    
        private string _family = "LogNormal";
    
        private double _mean = 0D;
    
        private double _std = 0D;
    
        public LogNormalDistributionParameters()
        {
        }
    
        protected LogNormalDistributionParameters(LogNormalDistributionParameters other)
        {
            _family = other._family;
            _mean = other._mean;
            _std = other._std;
        }
    
        [Newtonsoft.Json.JsonPropertyAttribute("family")]
        public string Family
        {
            get
            {
                return _family;
            }
            set
            {
                _family = value;
            }
        }
    
        /// <summary>
        /// Mean of the distribution
        /// </summary>
        [Newtonsoft.Json.JsonPropertyAttribute("mean")]
        [System.ComponentModel.DescriptionAttribute("Mean of the distribution")]
        public double Mean
        {
            get
            {
                return _mean;
            }
            set
            {
                _mean = value;
            }
        }
    
        /// <summary>
        /// Standard deviation of the distribution
        /// </summary>
        [Newtonsoft.Json.JsonPropertyAttribute("std")]
        [System.ComponentModel.DescriptionAttribute("Standard deviation of the distribution")]
        public double Std
        {
            get
            {
                return _std;
            }
            set
            {
                _std = value;
            }
        }
    
        public System.IObservable<LogNormalDistributionParameters> Process()
        {
            return System.Reactive.Linq.Observable.Defer(() => System.Reactive.Linq.Observable.Return(new LogNormalDistributionParameters(this)));
        }
    
        public System.IObservable<LogNormalDistributionParameters> Process<TSource>(System.IObservable<TSource> source)
        {
            return System.Reactive.Linq.Observable.Select(source, _ => new LogNormalDistributionParameters(this));
        }
    
        protected virtual bool PrintMembers(System.Text.StringBuilder stringBuilder)
        {
            stringBuilder.Append("family = " + _family + ", ");
            stringBuilder.Append("mean = " + _mean + ", ");
            stringBuilder.Append("std = " + _std);
            return true;
        }
    
        public override string ToString()
        {
            System.Text.StringBuilder stringBuilder = new System.Text.StringBuilder();
            stringBuilder.Append(GetType().Name);
            stringBuilder.Append(" { ");
            if (PrintMembers(stringBuilder))
            {
                stringBuilder.Append(" ");
            }
            stringBuilder.Append("}");
            return stringBuilder.ToString();
        }
    }


    [System.CodeDom.Compiler.GeneratedCodeAttribute("Bonsai.Sgen", "0.3.0.0 (Newtonsoft.Json v13.0.0.0)")]
    [Bonsai.CombinatorAttribute()]
    [Bonsai.WorkflowElementCategoryAttribute(Bonsai.ElementCategory.Source)]
    public partial class ManipulatorFeedback : ContinuousFeedback
    {
    
        private System.Collections.Generic.List<double> _converterLutInput = new System.Collections.Generic.List<double>();
    
        private System.Collections.Generic.List<double> _converterLutOutput = new System.Collections.Generic.List<double>();
    
        public ManipulatorFeedback()
        {
        }
    
        protected ManipulatorFeedback(ManipulatorFeedback other) : 
                base(other)
        {
            _converterLutInput = other._converterLutInput;
            _converterLutOutput = other._converterLutOutput;
        }
    
        /// <summary>
        /// Normalized input domain. All values should be between 0 and 1
        /// </summary>
        [System.Xml.Serialization.XmlIgnoreAttribute()]
        [Newtonsoft.Json.JsonPropertyAttribute("converter_lut_input")]
        [System.ComponentModel.DescriptionAttribute("Normalized input domain. All values should be between 0 and 1")]
        public System.Collections.Generic.List<double> ConverterLutInput
        {
            get
            {
                return _converterLutInput;
            }
            set
            {
                _converterLutInput = value;
            }
        }
    
        /// <summary>
        /// Output domain used to linearly interpolate the input values to the output values
        /// </summary>
        [System.Xml.Serialization.XmlIgnoreAttribute()]
        [Newtonsoft.Json.JsonPropertyAttribute("converter_lut_output")]
        [System.ComponentModel.DescriptionAttribute("Output domain used to linearly interpolate the input values to the output values")]
        public System.Collections.Generic.List<double> ConverterLutOutput
        {
            get
            {
                return _converterLutOutput;
            }
            set
            {
                _converterLutOutput = value;
            }
        }
    
        public System.IObservable<ManipulatorFeedback> Process()
        {
            return System.Reactive.Linq.Observable.Defer(() => System.Reactive.Linq.Observable.Return(new ManipulatorFeedback(this)));
        }
    
        public System.IObservable<ManipulatorFeedback> Process<TSource>(System.IObservable<TSource> source)
        {
            return System.Reactive.Linq.Observable.Select(source, _ => new ManipulatorFeedback(this));
        }
    
        protected override bool PrintMembers(System.Text.StringBuilder stringBuilder)
        {
            if (base.PrintMembers(stringBuilder))
            {
                stringBuilder.Append(", ");
            }
            stringBuilder.Append("converter_lut_input = " + _converterLutInput + ", ");
            stringBuilder.Append("converter_lut_output = " + _converterLutOutput);
            return true;
        }
    }


    [System.CodeDom.Compiler.GeneratedCodeAttribute("Bonsai.Sgen", "0.3.0.0 (Newtonsoft.Json v13.0.0.0)")]
    [Bonsai.CombinatorAttribute()]
    [Bonsai.WorkflowElementCategoryAttribute(Bonsai.ElementCategory.Source)]
    public partial class NormalDistribution : Distribution
    {
    
        private NormalDistributionParameters _distributionParameters;
    
        private TruncationParameters _truncationParameters;
    
        private ScalingParameters _scalingParameters;
    
        public NormalDistribution()
        {
        }
    
        protected NormalDistribution(NormalDistribution other) : 
                base(other)
        {
            _distributionParameters = other._distributionParameters;
            _truncationParameters = other._truncationParameters;
            _scalingParameters = other._scalingParameters;
        }
    
        /// <summary>
        /// Parameters of the distribution
        /// </summary>
        [System.Xml.Serialization.XmlIgnoreAttribute()]
        [Newtonsoft.Json.JsonPropertyAttribute("distribution_parameters")]
        [System.ComponentModel.DescriptionAttribute("Parameters of the distribution")]
        public NormalDistributionParameters DistributionParameters
        {
            get
            {
                return _distributionParameters;
            }
            set
            {
                _distributionParameters = value;
            }
        }
    
        /// <summary>
        /// Truncation parameters of the distribution
        /// </summary>
        [System.Xml.Serialization.XmlIgnoreAttribute()]
        [Newtonsoft.Json.JsonPropertyAttribute("truncation_parameters")]
        [System.ComponentModel.DescriptionAttribute("Truncation parameters of the distribution")]
        public TruncationParameters TruncationParameters
        {
            get
            {
                return _truncationParameters;
            }
            set
            {
                _truncationParameters = value;
            }
        }
    
        /// <summary>
        /// Scaling parameters of the distribution
        /// </summary>
        [System.Xml.Serialization.XmlIgnoreAttribute()]
        [Newtonsoft.Json.JsonPropertyAttribute("scaling_parameters")]
        [System.ComponentModel.DescriptionAttribute("Scaling parameters of the distribution")]
        public ScalingParameters ScalingParameters
        {
            get
            {
                return _scalingParameters;
            }
            set
            {
                _scalingParameters = value;
            }
        }
    
        public System.IObservable<NormalDistribution> Process()
        {
            return System.Reactive.Linq.Observable.Defer(() => System.Reactive.Linq.Observable.Return(new NormalDistribution(this)));
        }
    
        public System.IObservable<NormalDistribution> Process<TSource>(System.IObservable<TSource> source)
        {
            return System.Reactive.Linq.Observable.Select(source, _ => new NormalDistribution(this));
        }
    
        protected override bool PrintMembers(System.Text.StringBuilder stringBuilder)
        {
            if (base.PrintMembers(stringBuilder))
            {
                stringBuilder.Append(", ");
            }
            stringBuilder.Append("distribution_parameters = " + _distributionParameters + ", ");
            stringBuilder.Append("truncation_parameters = " + _truncationParameters + ", ");
            stringBuilder.Append("scaling_parameters = " + _scalingParameters);
            return true;
        }
    }


    [System.CodeDom.Compiler.GeneratedCodeAttribute("Bonsai.Sgen", "0.3.0.0 (Newtonsoft.Json v13.0.0.0)")]
    [Bonsai.CombinatorAttribute()]
    [Bonsai.WorkflowElementCategoryAttribute(Bonsai.ElementCategory.Source)]
    public partial class NormalDistributionParameters
    {
    
        private string _family = "Normal";
    
        private double _mean = 0D;
    
        private double _std = 0D;
    
        public NormalDistributionParameters()
        {
        }
    
        protected NormalDistributionParameters(NormalDistributionParameters other)
        {
            _family = other._family;
            _mean = other._mean;
            _std = other._std;
        }
    
        [Newtonsoft.Json.JsonPropertyAttribute("family")]
        public string Family
        {
            get
            {
                return _family;
            }
            set
            {
                _family = value;
            }
        }
    
        /// <summary>
        /// Mean of the distribution
        /// </summary>
        [Newtonsoft.Json.JsonPropertyAttribute("mean")]
        [System.ComponentModel.DescriptionAttribute("Mean of the distribution")]
        public double Mean
        {
            get
            {
                return _mean;
            }
            set
            {
                _mean = value;
            }
        }
    
        /// <summary>
        /// Standard deviation of the distribution
        /// </summary>
        [Newtonsoft.Json.JsonPropertyAttribute("std")]
        [System.ComponentModel.DescriptionAttribute("Standard deviation of the distribution")]
        public double Std
        {
            get
            {
                return _std;
            }
            set
            {
                _std = value;
            }
        }
    
        public System.IObservable<NormalDistributionParameters> Process()
        {
            return System.Reactive.Linq.Observable.Defer(() => System.Reactive.Linq.Observable.Return(new NormalDistributionParameters(this)));
        }
    
        public System.IObservable<NormalDistributionParameters> Process<TSource>(System.IObservable<TSource> source)
        {
            return System.Reactive.Linq.Observable.Select(source, _ => new NormalDistributionParameters(this));
        }
    
        protected virtual bool PrintMembers(System.Text.StringBuilder stringBuilder)
        {
            stringBuilder.Append("family = " + _family + ", ");
            stringBuilder.Append("mean = " + _mean + ", ");
            stringBuilder.Append("std = " + _std);
            return true;
        }
    
        public override string ToString()
        {
            System.Text.StringBuilder stringBuilder = new System.Text.StringBuilder();
            stringBuilder.Append(GetType().Name);
            stringBuilder.Append(" { ");
            if (PrintMembers(stringBuilder))
            {
                stringBuilder.Append(" ");
            }
            stringBuilder.Append("}");
            return stringBuilder.ToString();
        }
    }


    [System.CodeDom.Compiler.GeneratedCodeAttribute("Bonsai.Sgen", "0.3.0.0 (Newtonsoft.Json v13.0.0.0)")]
    [Bonsai.CombinatorAttribute()]
    [Bonsai.WorkflowElementCategoryAttribute(Bonsai.ElementCategory.Source)]
    public partial class NumericalUpdater
    {
    
        private NumericalUpdaterOperation _operation = AindForceForagingDataSchema.TaskLogic.NumericalUpdaterOperation.None;
    
        private NumericalUpdaterParameters _parameters;
    
        public NumericalUpdater()
        {
        }
    
        protected NumericalUpdater(NumericalUpdater other)
        {
            _operation = other._operation;
            _parameters = other._parameters;
        }
    
        /// <summary>
        /// Operation to perform on the parameter
        /// </summary>
        [System.Xml.Serialization.XmlIgnoreAttribute()]
        [Newtonsoft.Json.JsonPropertyAttribute("operation")]
        [System.ComponentModel.DescriptionAttribute("Operation to perform on the parameter")]
        public NumericalUpdaterOperation Operation
        {
            get
            {
                return _operation;
            }
            set
            {
                _operation = value;
            }
        }
    
        /// <summary>
        /// Parameters of the updater
        /// </summary>
        [System.Xml.Serialization.XmlIgnoreAttribute()]
        [Newtonsoft.Json.JsonPropertyAttribute("parameters")]
        [System.ComponentModel.DescriptionAttribute("Parameters of the updater")]
        public NumericalUpdaterParameters Parameters
        {
            get
            {
                return _parameters;
            }
            set
            {
                _parameters = value;
            }
        }
    
        public System.IObservable<NumericalUpdater> Process()
        {
            return System.Reactive.Linq.Observable.Defer(() => System.Reactive.Linq.Observable.Return(new NumericalUpdater(this)));
        }
    
        public System.IObservable<NumericalUpdater> Process<TSource>(System.IObservable<TSource> source)
        {
            return System.Reactive.Linq.Observable.Select(source, _ => new NumericalUpdater(this));
        }
    
        protected virtual bool PrintMembers(System.Text.StringBuilder stringBuilder)
        {
            stringBuilder.Append("operation = " + _operation + ", ");
            stringBuilder.Append("parameters = " + _parameters);
            return true;
        }
    
        public override string ToString()
        {
            System.Text.StringBuilder stringBuilder = new System.Text.StringBuilder();
            stringBuilder.Append(GetType().Name);
            stringBuilder.Append(" { ");
            if (PrintMembers(stringBuilder))
            {
                stringBuilder.Append(" ");
            }
            stringBuilder.Append("}");
            return stringBuilder.ToString();
        }
    }


    [System.CodeDom.Compiler.GeneratedCodeAttribute("Bonsai.Sgen", "0.3.0.0 (Newtonsoft.Json v13.0.0.0)")]
    [Newtonsoft.Json.JsonConverter(typeof(Newtonsoft.Json.Converters.StringEnumConverter))]
    public enum NumericalUpdaterOperation
    {
    
        [System.Runtime.Serialization.EnumMemberAttribute(Value="None")]
        None = 0,
    
        [System.Runtime.Serialization.EnumMemberAttribute(Value="Offset")]
        Offset = 1,
    
        [System.Runtime.Serialization.EnumMemberAttribute(Value="Gain")]
        Gain = 2,
    
        [System.Runtime.Serialization.EnumMemberAttribute(Value="Set")]
        Set = 3,
    }


    [System.CodeDom.Compiler.GeneratedCodeAttribute("Bonsai.Sgen", "0.3.0.0 (Newtonsoft.Json v13.0.0.0)")]
    [Bonsai.CombinatorAttribute()]
    [Bonsai.WorkflowElementCategoryAttribute(Bonsai.ElementCategory.Source)]
    public partial class NumericalUpdaterParameters
    {
    
        private Distribution _value;
    
        private double _minimum = 0D;
    
        private double _maximum = 0D;
    
        public NumericalUpdaterParameters()
        {
        }
    
        protected NumericalUpdaterParameters(NumericalUpdaterParameters other)
        {
            _value = other._value;
            _minimum = other._minimum;
            _maximum = other._maximum;
        }
    
        /// <summary>
        /// The value of the update. This value will be multiplied by the optional input event value.
        /// </summary>
        [System.Xml.Serialization.XmlIgnoreAttribute()]
        [Newtonsoft.Json.JsonPropertyAttribute("value")]
        [System.ComponentModel.DescriptionAttribute("The value of the update. This value will be multiplied by the optional input even" +
            "t value.")]
        public Distribution Value
        {
            get
            {
                return _value;
            }
            set
            {
                _value = value;
            }
        }
    
        /// <summary>
        /// Minimum value of the parameter
        /// </summary>
        [Newtonsoft.Json.JsonPropertyAttribute("minimum")]
        [System.ComponentModel.DescriptionAttribute("Minimum value of the parameter")]
        public double Minimum
        {
            get
            {
                return _minimum;
            }
            set
            {
                _minimum = value;
            }
        }
    
        /// <summary>
        /// Maximum value of the parameter
        /// </summary>
        [Newtonsoft.Json.JsonPropertyAttribute("maximum")]
        [System.ComponentModel.DescriptionAttribute("Maximum value of the parameter")]
        public double Maximum
        {
            get
            {
                return _maximum;
            }
            set
            {
                _maximum = value;
            }
        }
    
        public System.IObservable<NumericalUpdaterParameters> Process()
        {
            return System.Reactive.Linq.Observable.Defer(() => System.Reactive.Linq.Observable.Return(new NumericalUpdaterParameters(this)));
        }
    
        public System.IObservable<NumericalUpdaterParameters> Process<TSource>(System.IObservable<TSource> source)
        {
            return System.Reactive.Linq.Observable.Select(source, _ => new NumericalUpdaterParameters(this));
        }
    
        protected virtual bool PrintMembers(System.Text.StringBuilder stringBuilder)
        {
            stringBuilder.Append("value = " + _value + ", ");
            stringBuilder.Append("minimum = " + _minimum + ", ");
            stringBuilder.Append("maximum = " + _maximum);
            return true;
        }
    
        public override string ToString()
        {
            System.Text.StringBuilder stringBuilder = new System.Text.StringBuilder();
            stringBuilder.Append(GetType().Name);
            stringBuilder.Append(" { ");
            if (PrintMembers(stringBuilder))
            {
                stringBuilder.Append(" ");
            }
            stringBuilder.Append("}");
            return stringBuilder.ToString();
        }
    }


    [System.CodeDom.Compiler.GeneratedCodeAttribute("Bonsai.Sgen", "0.3.0.0 (Newtonsoft.Json v13.0.0.0)")]
    [Bonsai.CombinatorAttribute()]
    [Bonsai.WorkflowElementCategoryAttribute(Bonsai.ElementCategory.Source)]
    public partial class OperationControl
    {
    
        private ForceOperationControl _force;
    
        private SpoutOperationControl _spout;
    
        public OperationControl()
        {
        }
    
        protected OperationControl(OperationControl other)
        {
            _force = other._force;
            _spout = other._spout;
        }
    
        /// <summary>
        /// Operation control for force sensor
        /// </summary>
        [System.Xml.Serialization.XmlIgnoreAttribute()]
        [Newtonsoft.Json.JsonPropertyAttribute("force")]
        [System.ComponentModel.DescriptionAttribute("Operation control for force sensor")]
        public ForceOperationControl Force
        {
            get
            {
                return _force;
            }
            set
            {
                _force = value;
            }
        }
    
        /// <summary>
        /// Operation control for spout
        /// </summary>
        [System.Xml.Serialization.XmlIgnoreAttribute()]
        [Newtonsoft.Json.JsonPropertyAttribute("spout")]
        [System.ComponentModel.DescriptionAttribute("Operation control for spout")]
        public SpoutOperationControl Spout
        {
            get
            {
                return _spout;
            }
            set
            {
                _spout = value;
            }
        }
    
        public System.IObservable<OperationControl> Process()
        {
            return System.Reactive.Linq.Observable.Defer(() => System.Reactive.Linq.Observable.Return(new OperationControl(this)));
        }
    
        public System.IObservable<OperationControl> Process<TSource>(System.IObservable<TSource> source)
        {
            return System.Reactive.Linq.Observable.Select(source, _ => new OperationControl(this));
        }
    
        protected virtual bool PrintMembers(System.Text.StringBuilder stringBuilder)
        {
            stringBuilder.Append("force = " + _force + ", ");
            stringBuilder.Append("spout = " + _spout);
            return true;
        }
    
        public override string ToString()
        {
            System.Text.StringBuilder stringBuilder = new System.Text.StringBuilder();
            stringBuilder.Append(GetType().Name);
            stringBuilder.Append(" { ");
            if (PrintMembers(stringBuilder))
            {
                stringBuilder.Append(" ");
            }
            stringBuilder.Append("}");
            return stringBuilder.ToString();
        }
    }


    [System.CodeDom.Compiler.GeneratedCodeAttribute("Bonsai.Sgen", "0.3.0.0 (Newtonsoft.Json v13.0.0.0)")]
    [Bonsai.CombinatorAttribute()]
    [Bonsai.WorkflowElementCategoryAttribute(Bonsai.ElementCategory.Source)]
    public partial class PdfDistribution : Distribution
    {
    
        private PdfDistributionParameters _distributionParameters;
    
        private TruncationParameters _truncationParameters;
    
        private ScalingParameters _scalingParameters;
    
        public PdfDistribution()
        {
        }
    
        protected PdfDistribution(PdfDistribution other) : 
                base(other)
        {
            _distributionParameters = other._distributionParameters;
            _truncationParameters = other._truncationParameters;
            _scalingParameters = other._scalingParameters;
        }
    
        /// <summary>
        /// Parameters of the distribution
        /// </summary>
        [System.Xml.Serialization.XmlIgnoreAttribute()]
        [Newtonsoft.Json.JsonPropertyAttribute("distribution_parameters")]
        [System.ComponentModel.DescriptionAttribute("Parameters of the distribution")]
        public PdfDistributionParameters DistributionParameters
        {
            get
            {
                return _distributionParameters;
            }
            set
            {
                _distributionParameters = value;
            }
        }
    
        /// <summary>
        /// Truncation parameters of the distribution
        /// </summary>
        [System.Xml.Serialization.XmlIgnoreAttribute()]
        [Newtonsoft.Json.JsonPropertyAttribute("truncation_parameters")]
        [System.ComponentModel.DescriptionAttribute("Truncation parameters of the distribution")]
        public TruncationParameters TruncationParameters
        {
            get
            {
                return _truncationParameters;
            }
            set
            {
                _truncationParameters = value;
            }
        }
    
        /// <summary>
        /// Scaling parameters of the distribution
        /// </summary>
        [System.Xml.Serialization.XmlIgnoreAttribute()]
        [Newtonsoft.Json.JsonPropertyAttribute("scaling_parameters")]
        [System.ComponentModel.DescriptionAttribute("Scaling parameters of the distribution")]
        public ScalingParameters ScalingParameters
        {
            get
            {
                return _scalingParameters;
            }
            set
            {
                _scalingParameters = value;
            }
        }
    
        public System.IObservable<PdfDistribution> Process()
        {
            return System.Reactive.Linq.Observable.Defer(() => System.Reactive.Linq.Observable.Return(new PdfDistribution(this)));
        }
    
        public System.IObservable<PdfDistribution> Process<TSource>(System.IObservable<TSource> source)
        {
            return System.Reactive.Linq.Observable.Select(source, _ => new PdfDistribution(this));
        }
    
        protected override bool PrintMembers(System.Text.StringBuilder stringBuilder)
        {
            if (base.PrintMembers(stringBuilder))
            {
                stringBuilder.Append(", ");
            }
            stringBuilder.Append("distribution_parameters = " + _distributionParameters + ", ");
            stringBuilder.Append("truncation_parameters = " + _truncationParameters + ", ");
            stringBuilder.Append("scaling_parameters = " + _scalingParameters);
            return true;
        }
    }


    [System.CodeDom.Compiler.GeneratedCodeAttribute("Bonsai.Sgen", "0.3.0.0 (Newtonsoft.Json v13.0.0.0)")]
    [Bonsai.CombinatorAttribute()]
    [Bonsai.WorkflowElementCategoryAttribute(Bonsai.ElementCategory.Source)]
    public partial class PdfDistributionParameters
    {
    
        private string _family = "Pdf";
    
        private System.Collections.Generic.List<double> _pdf = new System.Collections.Generic.List<double>();
    
        private System.Collections.Generic.List<double> _index = new System.Collections.Generic.List<double>();
    
        public PdfDistributionParameters()
        {
        }
    
        protected PdfDistributionParameters(PdfDistributionParameters other)
        {
            _family = other._family;
            _pdf = other._pdf;
            _index = other._index;
        }
    
        [Newtonsoft.Json.JsonPropertyAttribute("family")]
        public string Family
        {
            get
            {
                return _family;
            }
            set
            {
                _family = value;
            }
        }
    
        /// <summary>
        /// The probability density function
        /// </summary>
        [System.Xml.Serialization.XmlIgnoreAttribute()]
        [Newtonsoft.Json.JsonPropertyAttribute("pdf")]
        [System.ComponentModel.DescriptionAttribute("The probability density function")]
        public System.Collections.Generic.List<double> Pdf
        {
            get
            {
                return _pdf;
            }
            set
            {
                _pdf = value;
            }
        }
    
        /// <summary>
        /// The index of the probability density function
        /// </summary>
        [System.Xml.Serialization.XmlIgnoreAttribute()]
        [Newtonsoft.Json.JsonPropertyAttribute("index")]
        [System.ComponentModel.DescriptionAttribute("The index of the probability density function")]
        public System.Collections.Generic.List<double> Index
        {
            get
            {
                return _index;
            }
            set
            {
                _index = value;
            }
        }
    
        public System.IObservable<PdfDistributionParameters> Process()
        {
            return System.Reactive.Linq.Observable.Defer(() => System.Reactive.Linq.Observable.Return(new PdfDistributionParameters(this)));
        }
    
        public System.IObservable<PdfDistributionParameters> Process<TSource>(System.IObservable<TSource> source)
        {
            return System.Reactive.Linq.Observable.Select(source, _ => new PdfDistributionParameters(this));
        }
    
        protected virtual bool PrintMembers(System.Text.StringBuilder stringBuilder)
        {
            stringBuilder.Append("family = " + _family + ", ");
            stringBuilder.Append("pdf = " + _pdf + ", ");
            stringBuilder.Append("index = " + _index);
            return true;
        }
    
        public override string ToString()
        {
            System.Text.StringBuilder stringBuilder = new System.Text.StringBuilder();
            stringBuilder.Append(GetType().Name);
            stringBuilder.Append(" { ");
            if (PrintMembers(stringBuilder))
            {
                stringBuilder.Append(" ");
            }
            stringBuilder.Append("}");
            return stringBuilder.ToString();
        }
    }


    [System.CodeDom.Compiler.GeneratedCodeAttribute("Bonsai.Sgen", "0.3.0.0 (Newtonsoft.Json v13.0.0.0)")]
    [Bonsai.CombinatorAttribute()]
    [Bonsai.WorkflowElementCategoryAttribute(Bonsai.ElementCategory.Source)]
    public partial class PoissonDistribution : Distribution
    {
    
        private PoissonDistributionParameters _distributionParameters;
    
        private TruncationParameters _truncationParameters;
    
        private ScalingParameters _scalingParameters;
    
        public PoissonDistribution()
        {
        }
    
        protected PoissonDistribution(PoissonDistribution other) : 
                base(other)
        {
            _distributionParameters = other._distributionParameters;
            _truncationParameters = other._truncationParameters;
            _scalingParameters = other._scalingParameters;
        }
    
        /// <summary>
        /// Parameters of the distribution
        /// </summary>
        [System.Xml.Serialization.XmlIgnoreAttribute()]
        [Newtonsoft.Json.JsonPropertyAttribute("distribution_parameters")]
        [System.ComponentModel.DescriptionAttribute("Parameters of the distribution")]
        public PoissonDistributionParameters DistributionParameters
        {
            get
            {
                return _distributionParameters;
            }
            set
            {
                _distributionParameters = value;
            }
        }
    
        /// <summary>
        /// Truncation parameters of the distribution
        /// </summary>
        [System.Xml.Serialization.XmlIgnoreAttribute()]
        [Newtonsoft.Json.JsonPropertyAttribute("truncation_parameters")]
        [System.ComponentModel.DescriptionAttribute("Truncation parameters of the distribution")]
        public TruncationParameters TruncationParameters
        {
            get
            {
                return _truncationParameters;
            }
            set
            {
                _truncationParameters = value;
            }
        }
    
        /// <summary>
        /// Scaling parameters of the distribution
        /// </summary>
        [System.Xml.Serialization.XmlIgnoreAttribute()]
        [Newtonsoft.Json.JsonPropertyAttribute("scaling_parameters")]
        [System.ComponentModel.DescriptionAttribute("Scaling parameters of the distribution")]
        public ScalingParameters ScalingParameters
        {
            get
            {
                return _scalingParameters;
            }
            set
            {
                _scalingParameters = value;
            }
        }
    
        public System.IObservable<PoissonDistribution> Process()
        {
            return System.Reactive.Linq.Observable.Defer(() => System.Reactive.Linq.Observable.Return(new PoissonDistribution(this)));
        }
    
        public System.IObservable<PoissonDistribution> Process<TSource>(System.IObservable<TSource> source)
        {
            return System.Reactive.Linq.Observable.Select(source, _ => new PoissonDistribution(this));
        }
    
        protected override bool PrintMembers(System.Text.StringBuilder stringBuilder)
        {
            if (base.PrintMembers(stringBuilder))
            {
                stringBuilder.Append(", ");
            }
            stringBuilder.Append("distribution_parameters = " + _distributionParameters + ", ");
            stringBuilder.Append("truncation_parameters = " + _truncationParameters + ", ");
            stringBuilder.Append("scaling_parameters = " + _scalingParameters);
            return true;
        }
    }


    [System.CodeDom.Compiler.GeneratedCodeAttribute("Bonsai.Sgen", "0.3.0.0 (Newtonsoft.Json v13.0.0.0)")]
    [Bonsai.CombinatorAttribute()]
    [Bonsai.WorkflowElementCategoryAttribute(Bonsai.ElementCategory.Source)]
    public partial class PoissonDistributionParameters
    {
    
        private string _family = "Poisson";
    
        private double _rate = 1D;
    
        public PoissonDistributionParameters()
        {
        }
    
        protected PoissonDistributionParameters(PoissonDistributionParameters other)
        {
            _family = other._family;
            _rate = other._rate;
        }
    
        [Newtonsoft.Json.JsonPropertyAttribute("family")]
        public string Family
        {
            get
            {
                return _family;
            }
            set
            {
                _family = value;
            }
        }
    
        /// <summary>
        /// Rate parameter of the Poisson process that generates the distribution
        /// </summary>
        [Newtonsoft.Json.JsonPropertyAttribute("rate")]
        [System.ComponentModel.DescriptionAttribute("Rate parameter of the Poisson process that generates the distribution")]
        public double Rate
        {
            get
            {
                return _rate;
            }
            set
            {
                _rate = value;
            }
        }
    
        public System.IObservable<PoissonDistributionParameters> Process()
        {
            return System.Reactive.Linq.Observable.Defer(() => System.Reactive.Linq.Observable.Return(new PoissonDistributionParameters(this)));
        }
    
        public System.IObservable<PoissonDistributionParameters> Process<TSource>(System.IObservable<TSource> source)
        {
            return System.Reactive.Linq.Observable.Select(source, _ => new PoissonDistributionParameters(this));
        }
    
        protected virtual bool PrintMembers(System.Text.StringBuilder stringBuilder)
        {
            stringBuilder.Append("family = " + _family + ", ");
            stringBuilder.Append("rate = " + _rate);
            return true;
        }
    
        public override string ToString()
        {
            System.Text.StringBuilder stringBuilder = new System.Text.StringBuilder();
            stringBuilder.Append(GetType().Name);
            stringBuilder.Append(" { ");
            if (PrintMembers(stringBuilder))
            {
                stringBuilder.Append(" ");
            }
            stringBuilder.Append("}");
            return stringBuilder.ToString();
        }
    }


    /// <summary>
    /// Defines the press mode
    /// </summary>
    [System.CodeDom.Compiler.GeneratedCodeAttribute("Bonsai.Sgen", "0.3.0.0 (Newtonsoft.Json v13.0.0.0)")]
    [Newtonsoft.Json.JsonConverter(typeof(Newtonsoft.Json.Converters.StringEnumConverter))]
    public enum PressMode
    {
    
        [System.Runtime.Serialization.EnumMemberAttribute(Value="Double")]
        Double = 0,
    
        [System.Runtime.Serialization.EnumMemberAttribute(Value="SingleAverage")]
        SingleAverage = 1,
    
        [System.Runtime.Serialization.EnumMemberAttribute(Value="SingleMax")]
        SingleMax = 2,
    
        [System.Runtime.Serialization.EnumMemberAttribute(Value="SingleMin")]
        SingleMin = 3,
    
        [System.Runtime.Serialization.EnumMemberAttribute(Value="SingleLeft")]
        SingleLeft = 4,
    
        [System.Runtime.Serialization.EnumMemberAttribute(Value="SingleRight")]
        SingleRight = 5,
    
        [System.Runtime.Serialization.EnumMemberAttribute(Value="SingleLookupTable")]
        SingleLookupTable = 6,
    }


    /// <summary>
    /// Defines a quiescence settings
    /// </summary>
    [System.CodeDom.Compiler.GeneratedCodeAttribute("Bonsai.Sgen", "0.3.0.0 (Newtonsoft.Json v13.0.0.0)")]
    [System.ComponentModel.DescriptionAttribute("Defines a quiescence settings")]
    [Bonsai.CombinatorAttribute()]
    [Bonsai.WorkflowElementCategoryAttribute(Bonsai.ElementCategory.Source)]
    public partial class QuiescencePeriod
    {
    
        private Distribution _duration;
    
        private double _forceThreshold = 0D;
    
        private bool _hasCue = false;
    
        public QuiescencePeriod()
        {
        }
    
        protected QuiescencePeriod(QuiescencePeriod other)
        {
            _duration = other._duration;
            _forceThreshold = other._forceThreshold;
            _hasCue = other._hasCue;
        }
    
        /// <summary>
        /// Duration of the quiescence period
        /// </summary>
        [System.Xml.Serialization.XmlIgnoreAttribute()]
        [Newtonsoft.Json.JsonPropertyAttribute("duration")]
        [System.ComponentModel.DescriptionAttribute("Duration of the quiescence period")]
        public Distribution Duration
        {
            get
            {
                return _duration;
            }
            set
            {
                _duration = value;
            }
        }
    
        /// <summary>
        /// Time out for the quiescence period
        /// </summary>
        [Newtonsoft.Json.JsonPropertyAttribute("force_threshold")]
        [System.ComponentModel.DescriptionAttribute("Time out for the quiescence period")]
        public double ForceThreshold
        {
            get
            {
                return _forceThreshold;
            }
            set
            {
                _forceThreshold = value;
            }
        }
    
        /// <summary>
        /// Whether to use a cue to signal the start of the period.
        /// </summary>
        [Newtonsoft.Json.JsonPropertyAttribute("has_cue")]
        [System.ComponentModel.DescriptionAttribute("Whether to use a cue to signal the start of the period.")]
        public bool HasCue
        {
            get
            {
                return _hasCue;
            }
            set
            {
                _hasCue = value;
            }
        }
    
        public System.IObservable<QuiescencePeriod> Process()
        {
            return System.Reactive.Linq.Observable.Defer(() => System.Reactive.Linq.Observable.Return(new QuiescencePeriod(this)));
        }
    
        public System.IObservable<QuiescencePeriod> Process<TSource>(System.IObservable<TSource> source)
        {
            return System.Reactive.Linq.Observable.Select(source, _ => new QuiescencePeriod(this));
        }
    
        protected virtual bool PrintMembers(System.Text.StringBuilder stringBuilder)
        {
            stringBuilder.Append("duration = " + _duration + ", ");
            stringBuilder.Append("force_threshold = " + _forceThreshold + ", ");
            stringBuilder.Append("has_cue = " + _hasCue);
            return true;
        }
    
        public override string ToString()
        {
            System.Text.StringBuilder stringBuilder = new System.Text.StringBuilder();
            stringBuilder.Append(GetType().Name);
            stringBuilder.Append(" { ");
            if (PrintMembers(stringBuilder))
            {
                stringBuilder.Append(" ");
            }
            stringBuilder.Append("}");
            return stringBuilder.ToString();
        }
    }


    /// <summary>
    /// Defines a response period
    /// </summary>
    [System.CodeDom.Compiler.GeneratedCodeAttribute("Bonsai.Sgen", "0.3.0.0 (Newtonsoft.Json v13.0.0.0)")]
    [System.ComponentModel.DescriptionAttribute("Defines a response period")]
    [Bonsai.CombinatorAttribute()]
    [Bonsai.WorkflowElementCategoryAttribute(Bonsai.ElementCategory.Source)]
    public partial class ResponsePeriod
    {
    
        private Distribution _duration;
    
        private bool _hasCue = true;
    
        private bool _hasFeedback = false;
    
        public ResponsePeriod()
        {
        }
    
        protected ResponsePeriod(ResponsePeriod other)
        {
            _duration = other._duration;
            _hasCue = other._hasCue;
            _hasFeedback = other._hasFeedback;
        }
    
        /// <summary>
        /// Duration of the response period. I.e. the time the animal has to make a choice.
        /// </summary>
        [System.Xml.Serialization.XmlIgnoreAttribute()]
        [Newtonsoft.Json.JsonPropertyAttribute("duration")]
        [System.ComponentModel.DescriptionAttribute("Duration of the response period. I.e. the time the animal has to make a choice.")]
        public Distribution Duration
        {
            get
            {
                return _duration;
            }
            set
            {
                _duration = value;
            }
        }
    
        /// <summary>
        /// Whether to use a cue to signal the start of the period.
        /// </summary>
        [Newtonsoft.Json.JsonPropertyAttribute("has_cue")]
        [System.ComponentModel.DescriptionAttribute("Whether to use a cue to signal the start of the period.")]
        public bool HasCue
        {
            get
            {
                return _hasCue;
            }
            set
            {
                _hasCue = value;
            }
        }
    
        /// <summary>
        /// Whether to provide feedback to the animal after the response period.
        /// </summary>
        [Newtonsoft.Json.JsonPropertyAttribute("has_feedback")]
        [System.ComponentModel.DescriptionAttribute("Whether to provide feedback to the animal after the response period.")]
        public bool HasFeedback
        {
            get
            {
                return _hasFeedback;
            }
            set
            {
                _hasFeedback = value;
            }
        }
    
        public System.IObservable<ResponsePeriod> Process()
        {
            return System.Reactive.Linq.Observable.Defer(() => System.Reactive.Linq.Observable.Return(new ResponsePeriod(this)));
        }
    
        public System.IObservable<ResponsePeriod> Process<TSource>(System.IObservable<TSource> source)
        {
            return System.Reactive.Linq.Observable.Select(source, _ => new ResponsePeriod(this));
        }
    
        protected virtual bool PrintMembers(System.Text.StringBuilder stringBuilder)
        {
            stringBuilder.Append("duration = " + _duration + ", ");
            stringBuilder.Append("has_cue = " + _hasCue + ", ");
            stringBuilder.Append("has_feedback = " + _hasFeedback);
            return true;
        }
    
        public override string ToString()
        {
            System.Text.StringBuilder stringBuilder = new System.Text.StringBuilder();
            stringBuilder.Append(GetType().Name);
            stringBuilder.Append(" { ");
            if (PrintMembers(stringBuilder))
            {
                stringBuilder.Append(" ");
            }
            stringBuilder.Append("}");
            return stringBuilder.ToString();
        }
    }


    [System.CodeDom.Compiler.GeneratedCodeAttribute("Bonsai.Sgen", "0.3.0.0 (Newtonsoft.Json v13.0.0.0)")]
    [Bonsai.CombinatorAttribute()]
    [Bonsai.WorkflowElementCategoryAttribute(Bonsai.ElementCategory.Source)]
    public partial class Scalar : Distribution
    {
    
        private ScalarDistributionParameter _distributionParameters;
    
        private TruncationParameters2 _truncationParameters;
    
        private ScalingParameters2 _scalingParameters;
    
        public Scalar()
        {
        }
    
        protected Scalar(Scalar other) : 
                base(other)
        {
            _distributionParameters = other._distributionParameters;
            _truncationParameters = other._truncationParameters;
            _scalingParameters = other._scalingParameters;
        }
    
        /// <summary>
        /// Parameters of the distribution
        /// </summary>
        [System.Xml.Serialization.XmlIgnoreAttribute()]
        [Newtonsoft.Json.JsonPropertyAttribute("distribution_parameters")]
        [System.ComponentModel.DescriptionAttribute("Parameters of the distribution")]
        public ScalarDistributionParameter DistributionParameters
        {
            get
            {
                return _distributionParameters;
            }
            set
            {
                _distributionParameters = value;
            }
        }
    
        [System.Xml.Serialization.XmlIgnoreAttribute()]
        [Newtonsoft.Json.JsonPropertyAttribute("truncation_parameters")]
        public TruncationParameters2 TruncationParameters
        {
            get
            {
                return _truncationParameters;
            }
            set
            {
                _truncationParameters = value;
            }
        }
    
        [System.Xml.Serialization.XmlIgnoreAttribute()]
        [Newtonsoft.Json.JsonPropertyAttribute("scaling_parameters")]
        public ScalingParameters2 ScalingParameters
        {
            get
            {
                return _scalingParameters;
            }
            set
            {
                _scalingParameters = value;
            }
        }
    
        public System.IObservable<Scalar> Process()
        {
            return System.Reactive.Linq.Observable.Defer(() => System.Reactive.Linq.Observable.Return(new Scalar(this)));
        }
    
        public System.IObservable<Scalar> Process<TSource>(System.IObservable<TSource> source)
        {
            return System.Reactive.Linq.Observable.Select(source, _ => new Scalar(this));
        }
    
        protected override bool PrintMembers(System.Text.StringBuilder stringBuilder)
        {
            if (base.PrintMembers(stringBuilder))
            {
                stringBuilder.Append(", ");
            }
            stringBuilder.Append("distribution_parameters = " + _distributionParameters + ", ");
            stringBuilder.Append("truncation_parameters = " + _truncationParameters + ", ");
            stringBuilder.Append("scaling_parameters = " + _scalingParameters);
            return true;
        }
    }


    [System.CodeDom.Compiler.GeneratedCodeAttribute("Bonsai.Sgen", "0.3.0.0 (Newtonsoft.Json v13.0.0.0)")]
    [Bonsai.CombinatorAttribute()]
    [Bonsai.WorkflowElementCategoryAttribute(Bonsai.ElementCategory.Source)]
    public partial class ScalarDistributionParameter
    {
    
        private string _family = "Scalar";
    
        private double _value = 0D;
    
        public ScalarDistributionParameter()
        {
        }
    
        protected ScalarDistributionParameter(ScalarDistributionParameter other)
        {
            _family = other._family;
            _value = other._value;
        }
    
        [Newtonsoft.Json.JsonPropertyAttribute("family")]
        public string Family
        {
            get
            {
                return _family;
            }
            set
            {
                _family = value;
            }
        }
    
        /// <summary>
        /// The static value of the distribution
        /// </summary>
        [Newtonsoft.Json.JsonPropertyAttribute("value")]
        [System.ComponentModel.DescriptionAttribute("The static value of the distribution")]
        public double Value
        {
            get
            {
                return _value;
            }
            set
            {
                _value = value;
            }
        }
    
        public System.IObservable<ScalarDistributionParameter> Process()
        {
            return System.Reactive.Linq.Observable.Defer(() => System.Reactive.Linq.Observable.Return(new ScalarDistributionParameter(this)));
        }
    
        public System.IObservable<ScalarDistributionParameter> Process<TSource>(System.IObservable<TSource> source)
        {
            return System.Reactive.Linq.Observable.Select(source, _ => new ScalarDistributionParameter(this));
        }
    
        protected virtual bool PrintMembers(System.Text.StringBuilder stringBuilder)
        {
            stringBuilder.Append("family = " + _family + ", ");
            stringBuilder.Append("value = " + _value);
            return true;
        }
    
        public override string ToString()
        {
            System.Text.StringBuilder stringBuilder = new System.Text.StringBuilder();
            stringBuilder.Append(GetType().Name);
            stringBuilder.Append(" { ");
            if (PrintMembers(stringBuilder))
            {
                stringBuilder.Append(" ");
            }
            stringBuilder.Append("}");
            return stringBuilder.ToString();
        }
    }


    [System.CodeDom.Compiler.GeneratedCodeAttribute("Bonsai.Sgen", "0.3.0.0 (Newtonsoft.Json v13.0.0.0)")]
    [Bonsai.CombinatorAttribute()]
    [Bonsai.WorkflowElementCategoryAttribute(Bonsai.ElementCategory.Source)]
    public partial class ScalingParameters
    {
    
        private double _scale = 1D;
    
        private double _offset = 0D;
    
        public ScalingParameters()
        {
        }
    
        protected ScalingParameters(ScalingParameters other)
        {
            _scale = other._scale;
            _offset = other._offset;
        }
    
        /// <summary>
        /// Scaling factor to apply on the sampled distribution
        /// </summary>
        [Newtonsoft.Json.JsonPropertyAttribute("scale")]
        [System.ComponentModel.DescriptionAttribute("Scaling factor to apply on the sampled distribution")]
        public double Scale
        {
            get
            {
                return _scale;
            }
            set
            {
                _scale = value;
            }
        }
    
        /// <summary>
        /// Offset factor to apply on the sampled distribution
        /// </summary>
        [Newtonsoft.Json.JsonPropertyAttribute("offset")]
        [System.ComponentModel.DescriptionAttribute("Offset factor to apply on the sampled distribution")]
        public double Offset
        {
            get
            {
                return _offset;
            }
            set
            {
                _offset = value;
            }
        }
    
        public System.IObservable<ScalingParameters> Process()
        {
            return System.Reactive.Linq.Observable.Defer(() => System.Reactive.Linq.Observable.Return(new ScalingParameters(this)));
        }
    
        public System.IObservable<ScalingParameters> Process<TSource>(System.IObservable<TSource> source)
        {
            return System.Reactive.Linq.Observable.Select(source, _ => new ScalingParameters(this));
        }
    
        protected virtual bool PrintMembers(System.Text.StringBuilder stringBuilder)
        {
            stringBuilder.Append("scale = " + _scale + ", ");
            stringBuilder.Append("offset = " + _offset);
            return true;
        }
    
        public override string ToString()
        {
            System.Text.StringBuilder stringBuilder = new System.Text.StringBuilder();
            stringBuilder.Append(GetType().Name);
            stringBuilder.Append(" { ");
            if (PrintMembers(stringBuilder))
            {
                stringBuilder.Append(" ");
            }
            stringBuilder.Append("}");
            return stringBuilder.ToString();
        }
    }


    [System.CodeDom.Compiler.GeneratedCodeAttribute("Bonsai.Sgen", "0.3.0.0 (Newtonsoft.Json v13.0.0.0)")]
    [Bonsai.CombinatorAttribute()]
    [Bonsai.WorkflowElementCategoryAttribute(Bonsai.ElementCategory.Source)]
    public partial class SpoutOperationControl
    {
    
        private double _defaultRetractedPosition = 0D;
    
        private double _defaultExtendedPosition = 0D;
    
        private bool _enabled = true;
    
        public SpoutOperationControl()
        {
        }
    
        protected SpoutOperationControl(SpoutOperationControl other)
        {
            _defaultRetractedPosition = other._defaultRetractedPosition;
            _defaultExtendedPosition = other._defaultExtendedPosition;
            _enabled = other._enabled;
        }
    
        /// <summary>
        /// Default retracted position (mm)
        /// </summary>
        [Newtonsoft.Json.JsonPropertyAttribute("default_retracted_position")]
        [System.ComponentModel.DescriptionAttribute("Default retracted position (mm)")]
        public double DefaultRetractedPosition
        {
            get
            {
                return _defaultRetractedPosition;
            }
            set
            {
                _defaultRetractedPosition = value;
            }
        }
    
        /// <summary>
        /// Default extended position (mm)
        /// </summary>
        [Newtonsoft.Json.JsonPropertyAttribute("default_extended_position")]
        [System.ComponentModel.DescriptionAttribute("Default extended position (mm)")]
        public double DefaultExtendedPosition
        {
            get
            {
                return _defaultExtendedPosition;
            }
            set
            {
                _defaultExtendedPosition = value;
            }
        }
    
        /// <summary>
        /// Whether the spout control is enabled
        /// </summary>
        [Newtonsoft.Json.JsonPropertyAttribute("enabled")]
        [System.ComponentModel.DescriptionAttribute("Whether the spout control is enabled")]
        public bool Enabled
        {
            get
            {
                return _enabled;
            }
            set
            {
                _enabled = value;
            }
        }
    
        public System.IObservable<SpoutOperationControl> Process()
        {
            return System.Reactive.Linq.Observable.Defer(() => System.Reactive.Linq.Observable.Return(new SpoutOperationControl(this)));
        }
    
        public System.IObservable<SpoutOperationControl> Process<TSource>(System.IObservable<TSource> source)
        {
            return System.Reactive.Linq.Observable.Select(source, _ => new SpoutOperationControl(this));
        }
    
        protected virtual bool PrintMembers(System.Text.StringBuilder stringBuilder)
        {
            stringBuilder.Append("default_retracted_position = " + _defaultRetractedPosition + ", ");
            stringBuilder.Append("default_extended_position = " + _defaultExtendedPosition + ", ");
            stringBuilder.Append("enabled = " + _enabled);
            return true;
        }
    
        public override string ToString()
        {
            System.Text.StringBuilder stringBuilder = new System.Text.StringBuilder();
            stringBuilder.Append(GetType().Name);
            stringBuilder.Append(" { ");
            if (PrintMembers(stringBuilder))
            {
                stringBuilder.Append(" ");
            }
            stringBuilder.Append("}");
            return stringBuilder.ToString();
        }
    }


    /// <summary>
    /// Defines a trial
    /// </summary>
    [System.CodeDom.Compiler.GeneratedCodeAttribute("Bonsai.Sgen", "0.3.0.0 (Newtonsoft.Json v13.0.0.0)")]
    [System.ComponentModel.DescriptionAttribute("Defines a trial")]
    [Bonsai.CombinatorAttribute()]
    [Bonsai.WorkflowElementCategoryAttribute(Bonsai.ElementCategory.Source)]
    public partial class Trial
    {
    
        private Distribution _interTrialInterval;
    
        private QuiescencePeriod _quiescencePeriod;
    
        private InitiationPeriod _initiationPeriod;
    
        private ResponsePeriod _responsePeriod;
    
        private HarvestAction _leftHarvest;
    
        private HarvestAction _rightHarvest;
    
        public Trial()
        {
        }
    
        protected Trial(Trial other)
        {
            _interTrialInterval = other._interTrialInterval;
            _quiescencePeriod = other._quiescencePeriod;
            _initiationPeriod = other._initiationPeriod;
            _responsePeriod = other._responsePeriod;
            _leftHarvest = other._leftHarvest;
            _rightHarvest = other._rightHarvest;
        }
    
        /// <summary>
        /// Time between trials
        /// </summary>
        [System.Xml.Serialization.XmlIgnoreAttribute()]
        [Newtonsoft.Json.JsonPropertyAttribute("inter_trial_interval")]
        [System.ComponentModel.DescriptionAttribute("Time between trials")]
        public Distribution InterTrialInterval
        {
            get
            {
                return _interTrialInterval;
            }
            set
            {
                _interTrialInterval = value;
            }
        }
    
        /// <summary>
        /// Quiescence settings
        /// </summary>
        [System.Xml.Serialization.XmlIgnoreAttribute()]
        [Newtonsoft.Json.JsonPropertyAttribute("quiescence_period")]
        [System.ComponentModel.DescriptionAttribute("Quiescence settings")]
        public QuiescencePeriod QuiescencePeriod
        {
            get
            {
                return _quiescencePeriod;
            }
            set
            {
                _quiescencePeriod = value;
            }
        }
    
        /// <summary>
        /// Initiation settings
        /// </summary>
        [System.Xml.Serialization.XmlIgnoreAttribute()]
        [Newtonsoft.Json.JsonPropertyAttribute("initiation_period")]
        [System.ComponentModel.DescriptionAttribute("Initiation settings")]
        public InitiationPeriod InitiationPeriod
        {
            get
            {
                return _initiationPeriod;
            }
            set
            {
                _initiationPeriod = value;
            }
        }
    
        /// <summary>
        /// Response settings
        /// </summary>
        [System.Xml.Serialization.XmlIgnoreAttribute()]
        [Newtonsoft.Json.JsonPropertyAttribute("response_period")]
        [System.ComponentModel.DescriptionAttribute("Response settings")]
        public ResponsePeriod ResponsePeriod
        {
            get
            {
                return _responsePeriod;
            }
            set
            {
                _responsePeriod = value;
            }
        }
    
        /// <summary>
        /// Specification of the left action
        /// </summary>
        [System.Xml.Serialization.XmlIgnoreAttribute()]
        [Newtonsoft.Json.JsonPropertyAttribute("left_harvest")]
        [System.ComponentModel.DescriptionAttribute("Specification of the left action")]
        public HarvestAction LeftHarvest
        {
            get
            {
                return _leftHarvest;
            }
            set
            {
                _leftHarvest = value;
            }
        }
    
        /// <summary>
        /// Specification of the right action
        /// </summary>
        [System.Xml.Serialization.XmlIgnoreAttribute()]
        [Newtonsoft.Json.JsonPropertyAttribute("right_harvest")]
        [System.ComponentModel.DescriptionAttribute("Specification of the right action")]
        public HarvestAction RightHarvest
        {
            get
            {
                return _rightHarvest;
            }
            set
            {
                _rightHarvest = value;
            }
        }
    
        public System.IObservable<Trial> Process()
        {
            return System.Reactive.Linq.Observable.Defer(() => System.Reactive.Linq.Observable.Return(new Trial(this)));
        }
    
        public System.IObservable<Trial> Process<TSource>(System.IObservable<TSource> source)
        {
            return System.Reactive.Linq.Observable.Select(source, _ => new Trial(this));
        }
    
        protected virtual bool PrintMembers(System.Text.StringBuilder stringBuilder)
        {
            stringBuilder.Append("inter_trial_interval = " + _interTrialInterval + ", ");
            stringBuilder.Append("quiescence_period = " + _quiescencePeriod + ", ");
            stringBuilder.Append("initiation_period = " + _initiationPeriod + ", ");
            stringBuilder.Append("response_period = " + _responsePeriod + ", ");
            stringBuilder.Append("left_harvest = " + _leftHarvest + ", ");
            stringBuilder.Append("right_harvest = " + _rightHarvest);
            return true;
        }
    
        public override string ToString()
        {
            System.Text.StringBuilder stringBuilder = new System.Text.StringBuilder();
            stringBuilder.Append(GetType().Name);
            stringBuilder.Append(" { ");
            if (PrintMembers(stringBuilder))
            {
                stringBuilder.Append(" ");
            }
            stringBuilder.Append("}");
            return stringBuilder.ToString();
        }
    }


    [System.CodeDom.Compiler.GeneratedCodeAttribute("Bonsai.Sgen", "0.3.0.0 (Newtonsoft.Json v13.0.0.0)")]
    [Bonsai.CombinatorAttribute()]
    [Bonsai.WorkflowElementCategoryAttribute(Bonsai.ElementCategory.Source)]
    public partial class TruncationParameters
    {
    
        private bool _isTruncated = false;
    
        private double _min = 0D;
    
        private double _max = 0D;
    
        public TruncationParameters()
        {
        }
    
        protected TruncationParameters(TruncationParameters other)
        {
            _isTruncated = other._isTruncated;
            _min = other._min;
            _max = other._max;
        }
    
        /// <summary>
        /// Whether the distribution is truncated
        /// </summary>
        [Newtonsoft.Json.JsonPropertyAttribute("is_truncated")]
        [System.ComponentModel.DescriptionAttribute("Whether the distribution is truncated")]
        public bool IsTruncated
        {
            get
            {
                return _isTruncated;
            }
            set
            {
                _isTruncated = value;
            }
        }
    
        /// <summary>
        /// Minimum value of the sampled distribution
        /// </summary>
        [Newtonsoft.Json.JsonPropertyAttribute("min")]
        [System.ComponentModel.DescriptionAttribute("Minimum value of the sampled distribution")]
        public double Min
        {
            get
            {
                return _min;
            }
            set
            {
                _min = value;
            }
        }
    
        /// <summary>
        /// Maximum value of the sampled distribution
        /// </summary>
        [Newtonsoft.Json.JsonPropertyAttribute("max")]
        [System.ComponentModel.DescriptionAttribute("Maximum value of the sampled distribution")]
        public double Max
        {
            get
            {
                return _max;
            }
            set
            {
                _max = value;
            }
        }
    
        public System.IObservable<TruncationParameters> Process()
        {
            return System.Reactive.Linq.Observable.Defer(() => System.Reactive.Linq.Observable.Return(new TruncationParameters(this)));
        }
    
        public System.IObservable<TruncationParameters> Process<TSource>(System.IObservable<TSource> source)
        {
            return System.Reactive.Linq.Observable.Select(source, _ => new TruncationParameters(this));
        }
    
        protected virtual bool PrintMembers(System.Text.StringBuilder stringBuilder)
        {
            stringBuilder.Append("is_truncated = " + _isTruncated + ", ");
            stringBuilder.Append("min = " + _min + ", ");
            stringBuilder.Append("max = " + _max);
            return true;
        }
    
        public override string ToString()
        {
            System.Text.StringBuilder stringBuilder = new System.Text.StringBuilder();
            stringBuilder.Append(GetType().Name);
            stringBuilder.Append(" { ");
            if (PrintMembers(stringBuilder))
            {
                stringBuilder.Append(" ");
            }
            stringBuilder.Append("}");
            return stringBuilder.ToString();
        }
    }


    [System.CodeDom.Compiler.GeneratedCodeAttribute("Bonsai.Sgen", "0.3.0.0 (Newtonsoft.Json v13.0.0.0)")]
    [Bonsai.CombinatorAttribute()]
    [Bonsai.WorkflowElementCategoryAttribute(Bonsai.ElementCategory.Source)]
    public partial class UniformDistribution : Distribution
    {
    
        private UniformDistributionParameters _distributionParameters;
    
        private TruncationParameters _truncationParameters;
    
        private ScalingParameters _scalingParameters;
    
        public UniformDistribution()
        {
        }
    
        protected UniformDistribution(UniformDistribution other) : 
                base(other)
        {
            _distributionParameters = other._distributionParameters;
            _truncationParameters = other._truncationParameters;
            _scalingParameters = other._scalingParameters;
        }
    
        /// <summary>
        /// Parameters of the distribution
        /// </summary>
        [System.Xml.Serialization.XmlIgnoreAttribute()]
        [Newtonsoft.Json.JsonPropertyAttribute("distribution_parameters")]
        [System.ComponentModel.DescriptionAttribute("Parameters of the distribution")]
        public UniformDistributionParameters DistributionParameters
        {
            get
            {
                return _distributionParameters;
            }
            set
            {
                _distributionParameters = value;
            }
        }
    
        /// <summary>
        /// Truncation parameters of the distribution
        /// </summary>
        [System.Xml.Serialization.XmlIgnoreAttribute()]
        [Newtonsoft.Json.JsonPropertyAttribute("truncation_parameters")]
        [System.ComponentModel.DescriptionAttribute("Truncation parameters of the distribution")]
        public TruncationParameters TruncationParameters
        {
            get
            {
                return _truncationParameters;
            }
            set
            {
                _truncationParameters = value;
            }
        }
    
        /// <summary>
        /// Scaling parameters of the distribution
        /// </summary>
        [System.Xml.Serialization.XmlIgnoreAttribute()]
        [Newtonsoft.Json.JsonPropertyAttribute("scaling_parameters")]
        [System.ComponentModel.DescriptionAttribute("Scaling parameters of the distribution")]
        public ScalingParameters ScalingParameters
        {
            get
            {
                return _scalingParameters;
            }
            set
            {
                _scalingParameters = value;
            }
        }
    
        public System.IObservable<UniformDistribution> Process()
        {
            return System.Reactive.Linq.Observable.Defer(() => System.Reactive.Linq.Observable.Return(new UniformDistribution(this)));
        }
    
        public System.IObservable<UniformDistribution> Process<TSource>(System.IObservable<TSource> source)
        {
            return System.Reactive.Linq.Observable.Select(source, _ => new UniformDistribution(this));
        }
    
        protected override bool PrintMembers(System.Text.StringBuilder stringBuilder)
        {
            if (base.PrintMembers(stringBuilder))
            {
                stringBuilder.Append(", ");
            }
            stringBuilder.Append("distribution_parameters = " + _distributionParameters + ", ");
            stringBuilder.Append("truncation_parameters = " + _truncationParameters + ", ");
            stringBuilder.Append("scaling_parameters = " + _scalingParameters);
            return true;
        }
    }


    [System.CodeDom.Compiler.GeneratedCodeAttribute("Bonsai.Sgen", "0.3.0.0 (Newtonsoft.Json v13.0.0.0)")]
    [Bonsai.CombinatorAttribute()]
    [Bonsai.WorkflowElementCategoryAttribute(Bonsai.ElementCategory.Source)]
    public partial class UniformDistributionParameters
    {
    
        private string _family = "Uniform";
    
        private double _min = 0D;
    
        private double _max = 0D;
    
        public UniformDistributionParameters()
        {
        }
    
        protected UniformDistributionParameters(UniformDistributionParameters other)
        {
            _family = other._family;
            _min = other._min;
            _max = other._max;
        }
    
        [Newtonsoft.Json.JsonPropertyAttribute("family")]
        public string Family
        {
            get
            {
                return _family;
            }
            set
            {
                _family = value;
            }
        }
    
        /// <summary>
        /// Minimum value of the distribution
        /// </summary>
        [Newtonsoft.Json.JsonPropertyAttribute("min")]
        [System.ComponentModel.DescriptionAttribute("Minimum value of the distribution")]
        public double Min
        {
            get
            {
                return _min;
            }
            set
            {
                _min = value;
            }
        }
    
        /// <summary>
        /// Maximum value of the distribution
        /// </summary>
        [Newtonsoft.Json.JsonPropertyAttribute("max")]
        [System.ComponentModel.DescriptionAttribute("Maximum value of the distribution")]
        public double Max
        {
            get
            {
                return _max;
            }
            set
            {
                _max = value;
            }
        }
    
        public System.IObservable<UniformDistributionParameters> Process()
        {
            return System.Reactive.Linq.Observable.Defer(() => System.Reactive.Linq.Observable.Return(new UniformDistributionParameters(this)));
        }
    
        public System.IObservable<UniformDistributionParameters> Process<TSource>(System.IObservable<TSource> source)
        {
            return System.Reactive.Linq.Observable.Select(source, _ => new UniformDistributionParameters(this));
        }
    
        protected virtual bool PrintMembers(System.Text.StringBuilder stringBuilder)
        {
            stringBuilder.Append("family = " + _family + ", ");
            stringBuilder.Append("min = " + _min + ", ");
            stringBuilder.Append("max = " + _max);
            return true;
        }
    
        public override string ToString()
        {
            System.Text.StringBuilder stringBuilder = new System.Text.StringBuilder();
            stringBuilder.Append(GetType().Name);
            stringBuilder.Append(" { ");
            if (PrintMembers(stringBuilder))
            {
                stringBuilder.Append(" ");
            }
            stringBuilder.Append("}");
            return stringBuilder.ToString();
        }
    }


    /// <summary>
    /// Defines the target parameters
    /// </summary>
    [System.CodeDom.Compiler.GeneratedCodeAttribute("Bonsai.Sgen", "0.3.0.0 (Newtonsoft.Json v13.0.0.0)")]
    [Newtonsoft.Json.JsonConverter(typeof(Newtonsoft.Json.Converters.StringEnumConverter))]
    public enum UpdateTargetParameter
    {
    
        [System.Runtime.Serialization.EnumMemberAttribute(Value="LowerForceThreshold")]
        LowerForceThreshold = 0,
    
        [System.Runtime.Serialization.EnumMemberAttribute(Value="UpperForceThreshold")]
        UpperForceThreshold = 1,
    
        [System.Runtime.Serialization.EnumMemberAttribute(Value="Probability")]
        Probability = 2,
    
        [System.Runtime.Serialization.EnumMemberAttribute(Value="Amount")]
        Amount = 3,
    
        [System.Runtime.Serialization.EnumMemberAttribute(Value="ForceDuration")]
        ForceDuration = 4,
    
        [System.Runtime.Serialization.EnumMemberAttribute(Value="Delay")]
        Delay = 5,
    }


    /// <summary>
    /// Defines the independent variable used for the update
    /// </summary>
    [System.CodeDom.Compiler.GeneratedCodeAttribute("Bonsai.Sgen", "0.3.0.0 (Newtonsoft.Json v13.0.0.0)")]
    [Newtonsoft.Json.JsonConverter(typeof(Newtonsoft.Json.Converters.StringEnumConverter))]
    public enum UpdateTargetParameterBy
    {
    
        [System.Runtime.Serialization.EnumMemberAttribute(Value="Time")]
        Time = 0,
    
        [System.Runtime.Serialization.EnumMemberAttribute(Value="Reward")]
        Reward = 1,
    
        [System.Runtime.Serialization.EnumMemberAttribute(Value="Trial")]
        Trial = 2,
    }


    [System.CodeDom.Compiler.GeneratedCodeAttribute("Bonsai.Sgen", "0.3.0.0 (Newtonsoft.Json v13.0.0.0)")]
    [Bonsai.CombinatorAttribute()]
    [Bonsai.WorkflowElementCategoryAttribute(Bonsai.ElementCategory.Source)]
    public partial class AindForceForagingTaskLogic
    {
    
        private string _name = "AindForceForaging";
    
        private string _description = "";
    
        private AindForceForagingTaskParameters _taskParameters = new AindForceForagingTaskParameters();
    
        private string _version = "0.1.0";
    
        private string _stageName;
    
        public AindForceForagingTaskLogic()
        {
        }
    
        protected AindForceForagingTaskLogic(AindForceForagingTaskLogic other)
        {
            _name = other._name;
            _description = other._description;
            _taskParameters = other._taskParameters;
            _version = other._version;
            _stageName = other._stageName;
        }
    
        /// <summary>
        /// Name of the task logic
        /// </summary>
        [Newtonsoft.Json.JsonPropertyAttribute("name")]
        [System.ComponentModel.DescriptionAttribute("Name of the task logic")]
        public string Name
        {
            get
            {
                return _name;
            }
            set
            {
                _name = value;
            }
        }
    
        /// <summary>
        /// Description of the task.
        /// </summary>
        [Newtonsoft.Json.JsonPropertyAttribute("description")]
        [System.ComponentModel.DescriptionAttribute("Description of the task.")]
        public string Description
        {
            get
            {
                return _description;
            }
            set
            {
                _description = value;
            }
        }
    
        /// <summary>
        /// Parameters of the task logic
        /// </summary>
        [System.Xml.Serialization.XmlIgnoreAttribute()]
        [Newtonsoft.Json.JsonPropertyAttribute("task_parameters", Required=Newtonsoft.Json.Required.Always)]
        [System.ComponentModel.DescriptionAttribute("Parameters of the task logic")]
        public AindForceForagingTaskParameters TaskParameters
        {
            get
            {
                return _taskParameters;
            }
            set
            {
                _taskParameters = value;
            }
        }
    
        [Newtonsoft.Json.JsonPropertyAttribute("version")]
        public string Version
        {
            get
            {
                return _version;
            }
            set
            {
                _version = value;
            }
        }
    
        /// <summary>
        /// Optional stage name the `Task` object instance represents.
        /// </summary>
        [Newtonsoft.Json.JsonPropertyAttribute("stage_name")]
        [System.ComponentModel.DescriptionAttribute("Optional stage name the `Task` object instance represents.")]
        public string StageName
        {
            get
            {
                return _stageName;
            }
            set
            {
                _stageName = value;
            }
        }
    
        public System.IObservable<AindForceForagingTaskLogic> Process()
        {
            return System.Reactive.Linq.Observable.Defer(() => System.Reactive.Linq.Observable.Return(new AindForceForagingTaskLogic(this)));
        }
    
        public System.IObservable<AindForceForagingTaskLogic> Process<TSource>(System.IObservable<TSource> source)
        {
            return System.Reactive.Linq.Observable.Select(source, _ => new AindForceForagingTaskLogic(this));
        }
    
        protected virtual bool PrintMembers(System.Text.StringBuilder stringBuilder)
        {
            stringBuilder.Append("name = " + _name + ", ");
            stringBuilder.Append("description = " + _description + ", ");
            stringBuilder.Append("task_parameters = " + _taskParameters + ", ");
            stringBuilder.Append("version = " + _version + ", ");
            stringBuilder.Append("stage_name = " + _stageName);
            return true;
        }
    
        public override string ToString()
        {
            System.Text.StringBuilder stringBuilder = new System.Text.StringBuilder();
            stringBuilder.Append(GetType().Name);
            stringBuilder.Append(" { ");
            if (PrintMembers(stringBuilder))
            {
                stringBuilder.Append(" ");
            }
            stringBuilder.Append("}");
            return stringBuilder.ToString();
        }
    }


    [System.CodeDom.Compiler.GeneratedCodeAttribute("Bonsai.Sgen", "0.3.0.0 (Newtonsoft.Json v13.0.0.0)")]
    [Bonsai.CombinatorAttribute()]
    [Bonsai.WorkflowElementCategoryAttribute(Bonsai.ElementCategory.Source)]
    public partial class TruncationParameters2
    {
    
        public TruncationParameters2()
        {
        }
    
        protected TruncationParameters2(TruncationParameters2 other)
        {
        }
    
        public System.IObservable<TruncationParameters2> Process()
        {
            return System.Reactive.Linq.Observable.Defer(() => System.Reactive.Linq.Observable.Return(new TruncationParameters2(this)));
        }
    
        public System.IObservable<TruncationParameters2> Process<TSource>(System.IObservable<TSource> source)
        {
            return System.Reactive.Linq.Observable.Select(source, _ => new TruncationParameters2(this));
        }
    
        protected virtual bool PrintMembers(System.Text.StringBuilder stringBuilder)
        {
            return false;
        }
    
        public override string ToString()
        {
            System.Text.StringBuilder stringBuilder = new System.Text.StringBuilder();
            stringBuilder.Append(GetType().Name);
            stringBuilder.Append(" { ");
            if (PrintMembers(stringBuilder))
            {
                stringBuilder.Append(" ");
            }
            stringBuilder.Append("}");
            return stringBuilder.ToString();
        }
    }


    [System.CodeDom.Compiler.GeneratedCodeAttribute("Bonsai.Sgen", "0.3.0.0 (Newtonsoft.Json v13.0.0.0)")]
    [Bonsai.CombinatorAttribute()]
    [Bonsai.WorkflowElementCategoryAttribute(Bonsai.ElementCategory.Source)]
    public partial class ScalingParameters2
    {
    
        public ScalingParameters2()
        {
        }
    
        protected ScalingParameters2(ScalingParameters2 other)
        {
        }
    
        public System.IObservable<ScalingParameters2> Process()
        {
            return System.Reactive.Linq.Observable.Defer(() => System.Reactive.Linq.Observable.Return(new ScalingParameters2(this)));
        }
    
        public System.IObservable<ScalingParameters2> Process<TSource>(System.IObservable<TSource> source)
        {
            return System.Reactive.Linq.Observable.Select(source, _ => new ScalingParameters2(this));
        }
    
        protected virtual bool PrintMembers(System.Text.StringBuilder stringBuilder)
        {
            return false;
        }
    
        public override string ToString()
        {
            System.Text.StringBuilder stringBuilder = new System.Text.StringBuilder();
            stringBuilder.Append(GetType().Name);
            stringBuilder.Append(" { ");
            if (PrintMembers(stringBuilder))
            {
                stringBuilder.Append(" ");
            }
            stringBuilder.Append("}");
            return stringBuilder.ToString();
        }
    }


    [System.CodeDom.Compiler.GeneratedCode("NJsonSchema", "10.9.0.0 (Newtonsoft.Json v13.0.0.0)")]
    [System.AttributeUsage(System.AttributeTargets.Class | System.AttributeTargets.Interface, AllowMultiple = true)]
    internal class JsonInheritanceAttribute : System.Attribute
    {
        public JsonInheritanceAttribute(string key, System.Type type)
        {
            Key = key;
            Type = type;
        }

        public string Key { get; private set; }

        public System.Type Type { get; private set; }
    }

    [System.CodeDom.Compiler.GeneratedCode("NJsonSchema", "10.9.0.0 (Newtonsoft.Json v13.0.0.0)")]
    public class JsonInheritanceConverter : Newtonsoft.Json.JsonConverter
    {
        internal static readonly string DefaultDiscriminatorName = "discriminator";

        private readonly string _discriminatorName;

        [System.ThreadStatic]
        private static bool _isReading;

        [System.ThreadStatic]
        private static bool _isWriting;

        public JsonInheritanceConverter()
        {
            _discriminatorName = DefaultDiscriminatorName;
        }

        public JsonInheritanceConverter(string discriminatorName)
        {
            _discriminatorName = discriminatorName;
        }

        public string DiscriminatorName { get { return _discriminatorName; } }

        public override void WriteJson(Newtonsoft.Json.JsonWriter writer, object value, Newtonsoft.Json.JsonSerializer serializer)
        {
            try
            {
                _isWriting = true;

                var jObject = Newtonsoft.Json.Linq.JObject.FromObject(value, serializer);
                jObject.AddFirst(new Newtonsoft.Json.Linq.JProperty(_discriminatorName, GetSubtypeDiscriminator(value.GetType())));
                writer.WriteToken(jObject.CreateReader());
            }
            finally
            {
                _isWriting = false;
            }
        }

        public override bool CanWrite
        {
            get
            {
                if (_isWriting)
                {
                    _isWriting = false;
                    return false;
                }
                return true;
            }
        }

        public override bool CanRead
        {
            get
            {
                if (_isReading)
                {
                    _isReading = false;
                    return false;
                }
                return true;
            }
        }

        public override bool CanConvert(System.Type objectType)
        {
            return true;
        }

        public override object ReadJson(Newtonsoft.Json.JsonReader reader, System.Type objectType, object existingValue, Newtonsoft.Json.JsonSerializer serializer)
        {
            var jObject = serializer.Deserialize<Newtonsoft.Json.Linq.JObject>(reader);
            if (jObject == null)
                return null;

            var discriminatorValue = jObject.GetValue(_discriminatorName);
            var discriminator = discriminatorValue != null ? Newtonsoft.Json.Linq.Extensions.Value<string>(discriminatorValue) : null;
            var subtype = GetObjectSubtype(objectType, discriminator);

            var objectContract = serializer.ContractResolver.ResolveContract(subtype) as Newtonsoft.Json.Serialization.JsonObjectContract;
            if (objectContract == null || System.Linq.Enumerable.All(objectContract.Properties, p => p.PropertyName != _discriminatorName))
            {
                jObject.Remove(_discriminatorName);
            }

            try
            {
                _isReading = true;
                return serializer.Deserialize(jObject.CreateReader(), subtype);
            }
            finally
            {
                _isReading = false;
            }
        }

        private System.Type GetObjectSubtype(System.Type objectType, string discriminator)
        {
            foreach (var attribute in System.Reflection.CustomAttributeExtensions.GetCustomAttributes<JsonInheritanceAttribute>(System.Reflection.IntrospectionExtensions.GetTypeInfo(objectType), true))
            {
                if (attribute.Key == discriminator)
                    return attribute.Type;
            }

            return objectType;
        }

        private string GetSubtypeDiscriminator(System.Type objectType)
        {
            foreach (var attribute in System.Reflection.CustomAttributeExtensions.GetCustomAttributes<JsonInheritanceAttribute>(System.Reflection.IntrospectionExtensions.GetTypeInfo(objectType), true))
            {
                if (attribute.Type == objectType)
                    return attribute.Key;
            }

            return objectType.Name;
        }
    }

    [System.CodeDom.Compiler.GeneratedCodeAttribute("Bonsai.Sgen", "0.3.0.0 (Newtonsoft.Json v13.0.0.0)")]
    [System.ComponentModel.DefaultPropertyAttribute("Type")]
    [Bonsai.WorkflowElementCategoryAttribute(Bonsai.ElementCategory.Combinator)]
    [System.Xml.Serialization.XmlIncludeAttribute(typeof(Bonsai.Expressions.TypeMapping<Block>))]
    [System.Xml.Serialization.XmlIncludeAttribute(typeof(Bonsai.Expressions.TypeMapping<BlockGenerator>))]
    public partial class MatchBlockStatistics : Bonsai.Expressions.SingleArgumentExpressionBuilder
    {
    
        public Bonsai.Expressions.TypeMapping Type { get; set; }

        public override System.Linq.Expressions.Expression Build(System.Collections.Generic.IEnumerable<System.Linq.Expressions.Expression> arguments)
        {
            var typeMapping = Type;
            var returnType = typeMapping != null ? typeMapping.GetType().GetGenericArguments()[0] : typeof(BlockStatistics);
            return System.Linq.Expressions.Expression.Call(
                typeof(MatchBlockStatistics),
                "Process",
                new System.Type[] { returnType },
                System.Linq.Enumerable.Single(arguments));
        }

    
        private static System.IObservable<TResult> Process<TResult>(System.IObservable<BlockStatistics> source)
            where TResult : BlockStatistics
        {
            return System.Reactive.Linq.Observable.Create<TResult>(observer =>
            {
                var sourceObserver = System.Reactive.Observer.Create<BlockStatistics>(
                    value =>
                    {
                        var match = value as TResult;
                        if (match != null) observer.OnNext(match);
                    },
                    observer.OnError,
                    observer.OnCompleted);
                return System.ObservableExtensions.SubscribeSafe(source, sourceObserver);
            });
        }
    }


    [System.CodeDom.Compiler.GeneratedCodeAttribute("Bonsai.Sgen", "0.3.0.0 (Newtonsoft.Json v13.0.0.0)")]
    [System.ComponentModel.DefaultPropertyAttribute("Type")]
    [Bonsai.WorkflowElementCategoryAttribute(Bonsai.ElementCategory.Combinator)]
    [System.Xml.Serialization.XmlIncludeAttribute(typeof(Bonsai.Expressions.TypeMapping<ManipulatorFeedback>))]
    [System.Xml.Serialization.XmlIncludeAttribute(typeof(Bonsai.Expressions.TypeMapping<AudioFeedback>))]
    public partial class MatchContinuousFeedback : Bonsai.Expressions.SingleArgumentExpressionBuilder
    {
    
        public Bonsai.Expressions.TypeMapping Type { get; set; }

        public override System.Linq.Expressions.Expression Build(System.Collections.Generic.IEnumerable<System.Linq.Expressions.Expression> arguments)
        {
            var typeMapping = Type;
            var returnType = typeMapping != null ? typeMapping.GetType().GetGenericArguments()[0] : typeof(ContinuousFeedback);
            return System.Linq.Expressions.Expression.Call(
                typeof(MatchContinuousFeedback),
                "Process",
                new System.Type[] { returnType },
                System.Linq.Enumerable.Single(arguments));
        }

    
        private static System.IObservable<TResult> Process<TResult>(System.IObservable<ContinuousFeedback> source)
            where TResult : ContinuousFeedback
        {
            return System.Reactive.Linq.Observable.Create<TResult>(observer =>
            {
                var sourceObserver = System.Reactive.Observer.Create<ContinuousFeedback>(
                    value =>
                    {
                        var match = value as TResult;
                        if (match != null) observer.OnNext(match);
                    },
                    observer.OnError,
                    observer.OnCompleted);
                return System.ObservableExtensions.SubscribeSafe(source, sourceObserver);
            });
        }
    }


    [System.CodeDom.Compiler.GeneratedCodeAttribute("Bonsai.Sgen", "0.3.0.0 (Newtonsoft.Json v13.0.0.0)")]
    [System.ComponentModel.DefaultPropertyAttribute("Type")]
    [Bonsai.WorkflowElementCategoryAttribute(Bonsai.ElementCategory.Combinator)]
    [System.Xml.Serialization.XmlIncludeAttribute(typeof(Bonsai.Expressions.TypeMapping<Scalar>))]
    [System.Xml.Serialization.XmlIncludeAttribute(typeof(Bonsai.Expressions.TypeMapping<NormalDistribution>))]
    [System.Xml.Serialization.XmlIncludeAttribute(typeof(Bonsai.Expressions.TypeMapping<LogNormalDistribution>))]
    [System.Xml.Serialization.XmlIncludeAttribute(typeof(Bonsai.Expressions.TypeMapping<ExponentialDistribution>))]
    [System.Xml.Serialization.XmlIncludeAttribute(typeof(Bonsai.Expressions.TypeMapping<UniformDistribution>))]
    [System.Xml.Serialization.XmlIncludeAttribute(typeof(Bonsai.Expressions.TypeMapping<PoissonDistribution>))]
    [System.Xml.Serialization.XmlIncludeAttribute(typeof(Bonsai.Expressions.TypeMapping<BinomialDistribution>))]
    [System.Xml.Serialization.XmlIncludeAttribute(typeof(Bonsai.Expressions.TypeMapping<BetaDistribution>))]
    [System.Xml.Serialization.XmlIncludeAttribute(typeof(Bonsai.Expressions.TypeMapping<GammaDistribution>))]
    [System.Xml.Serialization.XmlIncludeAttribute(typeof(Bonsai.Expressions.TypeMapping<PdfDistribution>))]
    public partial class MatchDistribution : Bonsai.Expressions.SingleArgumentExpressionBuilder
    {
    
        public Bonsai.Expressions.TypeMapping Type { get; set; }

        public override System.Linq.Expressions.Expression Build(System.Collections.Generic.IEnumerable<System.Linq.Expressions.Expression> arguments)
        {
            var typeMapping = Type;
            var returnType = typeMapping != null ? typeMapping.GetType().GetGenericArguments()[0] : typeof(Distribution);
            return System.Linq.Expressions.Expression.Call(
                typeof(MatchDistribution),
                "Process",
                new System.Type[] { returnType },
                System.Linq.Enumerable.Single(arguments));
        }

    
        private static System.IObservable<TResult> Process<TResult>(System.IObservable<Distribution> source)
            where TResult : Distribution
        {
            return System.Reactive.Linq.Observable.Create<TResult>(observer =>
            {
                var sourceObserver = System.Reactive.Observer.Create<Distribution>(
                    value =>
                    {
                        var match = value as TResult;
                        if (match != null) observer.OnNext(match);
                    },
                    observer.OnError,
                    observer.OnCompleted);
                return System.ObservableExtensions.SubscribeSafe(source, sourceObserver);
            });
        }
    }


    /// <summary>
    /// Serializes a sequence of data model objects into JSON strings.
    /// </summary>
    [System.CodeDom.Compiler.GeneratedCodeAttribute("Bonsai.Sgen", "0.3.0.0 (Newtonsoft.Json v13.0.0.0)")]
    [System.ComponentModel.DescriptionAttribute("Serializes a sequence of data model objects into JSON strings.")]
    [Bonsai.CombinatorAttribute()]
    [Bonsai.WorkflowElementCategoryAttribute(Bonsai.ElementCategory.Transform)]
    public partial class SerializeToJson
    {
    
        private System.IObservable<string> Process<T>(System.IObservable<T> source)
        {
            return System.Reactive.Linq.Observable.Select(source, value => Newtonsoft.Json.JsonConvert.SerializeObject(value));
        }

        public System.IObservable<string> Process(System.IObservable<ActionUpdater> source)
        {
            return Process<ActionUpdater>(source);
        }

        public System.IObservable<string> Process(System.IObservable<AindForceForagingTaskParameters> source)
        {
            return Process<AindForceForagingTaskParameters>(source);
        }

        public System.IObservable<string> Process(System.IObservable<AudioFeedback> source)
        {
            return Process<AudioFeedback>(source);
        }

        public System.IObservable<string> Process(System.IObservable<BetaDistribution> source)
        {
            return Process<BetaDistribution>(source);
        }

        public System.IObservable<string> Process(System.IObservable<BetaDistributionParameters> source)
        {
            return Process<BetaDistributionParameters>(source);
        }

        public System.IObservable<string> Process(System.IObservable<BinomialDistribution> source)
        {
            return Process<BinomialDistribution>(source);
        }

        public System.IObservable<string> Process(System.IObservable<BinomialDistributionParameters> source)
        {
            return Process<BinomialDistributionParameters>(source);
        }

        public System.IObservable<string> Process(System.IObservable<Block> source)
        {
            return Process<Block>(source);
        }

        public System.IObservable<string> Process(System.IObservable<BlockGenerator> source)
        {
            return Process<BlockGenerator>(source);
        }

        public System.IObservable<string> Process(System.IObservable<BlockStatistics> source)
        {
            return Process<BlockStatistics>(source);
        }

        public System.IObservable<string> Process(System.IObservable<ContinuousFeedback> source)
        {
            return Process<ContinuousFeedback>(source);
        }

        public System.IObservable<string> Process(System.IObservable<Distribution> source)
        {
            return Process<Distribution>(source);
        }

        public System.IObservable<string> Process(System.IObservable<Environment> source)
        {
            return Process<Environment>(source);
        }

        public System.IObservable<string> Process(System.IObservable<ExponentialDistribution> source)
        {
            return Process<ExponentialDistribution>(source);
        }

        public System.IObservable<string> Process(System.IObservable<ExponentialDistributionParameters> source)
        {
            return Process<ExponentialDistributionParameters>(source);
        }

        public System.IObservable<string> Process(System.IObservable<ForceLookUpTable> source)
        {
            return Process<ForceLookUpTable>(source);
        }

        public System.IObservable<string> Process(System.IObservable<ForceOperationControl> source)
        {
            return Process<ForceOperationControl>(source);
        }

        public System.IObservable<string> Process(System.IObservable<GammaDistribution> source)
        {
            return Process<GammaDistribution>(source);
        }

        public System.IObservable<string> Process(System.IObservable<GammaDistributionParameters> source)
        {
            return Process<GammaDistributionParameters>(source);
        }

        public System.IObservable<string> Process(System.IObservable<HarvestAction> source)
        {
            return Process<HarvestAction>(source);
        }

        public System.IObservable<string> Process(System.IObservable<InitiationPeriod> source)
        {
            return Process<InitiationPeriod>(source);
        }

        public System.IObservable<string> Process(System.IObservable<LogNormalDistribution> source)
        {
            return Process<LogNormalDistribution>(source);
        }

        public System.IObservable<string> Process(System.IObservable<LogNormalDistributionParameters> source)
        {
            return Process<LogNormalDistributionParameters>(source);
        }

        public System.IObservable<string> Process(System.IObservable<ManipulatorFeedback> source)
        {
            return Process<ManipulatorFeedback>(source);
        }

        public System.IObservable<string> Process(System.IObservable<NormalDistribution> source)
        {
            return Process<NormalDistribution>(source);
        }

        public System.IObservable<string> Process(System.IObservable<NormalDistributionParameters> source)
        {
            return Process<NormalDistributionParameters>(source);
        }

        public System.IObservable<string> Process(System.IObservable<NumericalUpdater> source)
        {
            return Process<NumericalUpdater>(source);
        }

        public System.IObservable<string> Process(System.IObservable<NumericalUpdaterParameters> source)
        {
            return Process<NumericalUpdaterParameters>(source);
        }

        public System.IObservable<string> Process(System.IObservable<OperationControl> source)
        {
            return Process<OperationControl>(source);
        }

        public System.IObservable<string> Process(System.IObservable<PdfDistribution> source)
        {
            return Process<PdfDistribution>(source);
        }

        public System.IObservable<string> Process(System.IObservable<PdfDistributionParameters> source)
        {
            return Process<PdfDistributionParameters>(source);
        }

        public System.IObservable<string> Process(System.IObservable<PoissonDistribution> source)
        {
            return Process<PoissonDistribution>(source);
        }

        public System.IObservable<string> Process(System.IObservable<PoissonDistributionParameters> source)
        {
            return Process<PoissonDistributionParameters>(source);
        }

        public System.IObservable<string> Process(System.IObservable<QuiescencePeriod> source)
        {
            return Process<QuiescencePeriod>(source);
        }

        public System.IObservable<string> Process(System.IObservable<ResponsePeriod> source)
        {
            return Process<ResponsePeriod>(source);
        }

        public System.IObservable<string> Process(System.IObservable<Scalar> source)
        {
            return Process<Scalar>(source);
        }

        public System.IObservable<string> Process(System.IObservable<ScalarDistributionParameter> source)
        {
            return Process<ScalarDistributionParameter>(source);
        }

        public System.IObservable<string> Process(System.IObservable<ScalingParameters> source)
        {
            return Process<ScalingParameters>(source);
        }

        public System.IObservable<string> Process(System.IObservable<SpoutOperationControl> source)
        {
            return Process<SpoutOperationControl>(source);
        }

        public System.IObservable<string> Process(System.IObservable<Trial> source)
        {
            return Process<Trial>(source);
        }

        public System.IObservable<string> Process(System.IObservable<TruncationParameters> source)
        {
            return Process<TruncationParameters>(source);
        }

        public System.IObservable<string> Process(System.IObservable<UniformDistribution> source)
        {
            return Process<UniformDistribution>(source);
        }

        public System.IObservable<string> Process(System.IObservable<UniformDistributionParameters> source)
        {
            return Process<UniformDistributionParameters>(source);
        }

        public System.IObservable<string> Process(System.IObservable<AindForceForagingTaskLogic> source)
        {
            return Process<AindForceForagingTaskLogic>(source);
        }

        public System.IObservable<string> Process(System.IObservable<TruncationParameters2> source)
        {
            return Process<TruncationParameters2>(source);
        }

        public System.IObservable<string> Process(System.IObservable<ScalingParameters2> source)
        {
            return Process<ScalingParameters2>(source);
        }
    }


    /// <summary>
    /// Deserializes a sequence of JSON strings into data model objects.
    /// </summary>
    [System.CodeDom.Compiler.GeneratedCodeAttribute("Bonsai.Sgen", "0.3.0.0 (Newtonsoft.Json v13.0.0.0)")]
    [System.ComponentModel.DescriptionAttribute("Deserializes a sequence of JSON strings into data model objects.")]
    [System.ComponentModel.DefaultPropertyAttribute("Type")]
    [Bonsai.WorkflowElementCategoryAttribute(Bonsai.ElementCategory.Transform)]
    [System.Xml.Serialization.XmlIncludeAttribute(typeof(Bonsai.Expressions.TypeMapping<ActionUpdater>))]
    [System.Xml.Serialization.XmlIncludeAttribute(typeof(Bonsai.Expressions.TypeMapping<AindForceForagingTaskParameters>))]
    [System.Xml.Serialization.XmlIncludeAttribute(typeof(Bonsai.Expressions.TypeMapping<AudioFeedback>))]
    [System.Xml.Serialization.XmlIncludeAttribute(typeof(Bonsai.Expressions.TypeMapping<BetaDistribution>))]
    [System.Xml.Serialization.XmlIncludeAttribute(typeof(Bonsai.Expressions.TypeMapping<BetaDistributionParameters>))]
    [System.Xml.Serialization.XmlIncludeAttribute(typeof(Bonsai.Expressions.TypeMapping<BinomialDistribution>))]
    [System.Xml.Serialization.XmlIncludeAttribute(typeof(Bonsai.Expressions.TypeMapping<BinomialDistributionParameters>))]
    [System.Xml.Serialization.XmlIncludeAttribute(typeof(Bonsai.Expressions.TypeMapping<Block>))]
    [System.Xml.Serialization.XmlIncludeAttribute(typeof(Bonsai.Expressions.TypeMapping<BlockGenerator>))]
    [System.Xml.Serialization.XmlIncludeAttribute(typeof(Bonsai.Expressions.TypeMapping<BlockStatistics>))]
    [System.Xml.Serialization.XmlIncludeAttribute(typeof(Bonsai.Expressions.TypeMapping<ContinuousFeedback>))]
    [System.Xml.Serialization.XmlIncludeAttribute(typeof(Bonsai.Expressions.TypeMapping<Distribution>))]
    [System.Xml.Serialization.XmlIncludeAttribute(typeof(Bonsai.Expressions.TypeMapping<Environment>))]
    [System.Xml.Serialization.XmlIncludeAttribute(typeof(Bonsai.Expressions.TypeMapping<ExponentialDistribution>))]
    [System.Xml.Serialization.XmlIncludeAttribute(typeof(Bonsai.Expressions.TypeMapping<ExponentialDistributionParameters>))]
    [System.Xml.Serialization.XmlIncludeAttribute(typeof(Bonsai.Expressions.TypeMapping<ForceLookUpTable>))]
    [System.Xml.Serialization.XmlIncludeAttribute(typeof(Bonsai.Expressions.TypeMapping<ForceOperationControl>))]
    [System.Xml.Serialization.XmlIncludeAttribute(typeof(Bonsai.Expressions.TypeMapping<GammaDistribution>))]
    [System.Xml.Serialization.XmlIncludeAttribute(typeof(Bonsai.Expressions.TypeMapping<GammaDistributionParameters>))]
    [System.Xml.Serialization.XmlIncludeAttribute(typeof(Bonsai.Expressions.TypeMapping<HarvestAction>))]
    [System.Xml.Serialization.XmlIncludeAttribute(typeof(Bonsai.Expressions.TypeMapping<InitiationPeriod>))]
    [System.Xml.Serialization.XmlIncludeAttribute(typeof(Bonsai.Expressions.TypeMapping<LogNormalDistribution>))]
    [System.Xml.Serialization.XmlIncludeAttribute(typeof(Bonsai.Expressions.TypeMapping<LogNormalDistributionParameters>))]
    [System.Xml.Serialization.XmlIncludeAttribute(typeof(Bonsai.Expressions.TypeMapping<ManipulatorFeedback>))]
    [System.Xml.Serialization.XmlIncludeAttribute(typeof(Bonsai.Expressions.TypeMapping<NormalDistribution>))]
    [System.Xml.Serialization.XmlIncludeAttribute(typeof(Bonsai.Expressions.TypeMapping<NormalDistributionParameters>))]
    [System.Xml.Serialization.XmlIncludeAttribute(typeof(Bonsai.Expressions.TypeMapping<NumericalUpdater>))]
    [System.Xml.Serialization.XmlIncludeAttribute(typeof(Bonsai.Expressions.TypeMapping<NumericalUpdaterParameters>))]
    [System.Xml.Serialization.XmlIncludeAttribute(typeof(Bonsai.Expressions.TypeMapping<OperationControl>))]
    [System.Xml.Serialization.XmlIncludeAttribute(typeof(Bonsai.Expressions.TypeMapping<PdfDistribution>))]
    [System.Xml.Serialization.XmlIncludeAttribute(typeof(Bonsai.Expressions.TypeMapping<PdfDistributionParameters>))]
    [System.Xml.Serialization.XmlIncludeAttribute(typeof(Bonsai.Expressions.TypeMapping<PoissonDistribution>))]
    [System.Xml.Serialization.XmlIncludeAttribute(typeof(Bonsai.Expressions.TypeMapping<PoissonDistributionParameters>))]
    [System.Xml.Serialization.XmlIncludeAttribute(typeof(Bonsai.Expressions.TypeMapping<QuiescencePeriod>))]
    [System.Xml.Serialization.XmlIncludeAttribute(typeof(Bonsai.Expressions.TypeMapping<ResponsePeriod>))]
    [System.Xml.Serialization.XmlIncludeAttribute(typeof(Bonsai.Expressions.TypeMapping<Scalar>))]
    [System.Xml.Serialization.XmlIncludeAttribute(typeof(Bonsai.Expressions.TypeMapping<ScalarDistributionParameter>))]
    [System.Xml.Serialization.XmlIncludeAttribute(typeof(Bonsai.Expressions.TypeMapping<ScalingParameters>))]
    [System.Xml.Serialization.XmlIncludeAttribute(typeof(Bonsai.Expressions.TypeMapping<SpoutOperationControl>))]
    [System.Xml.Serialization.XmlIncludeAttribute(typeof(Bonsai.Expressions.TypeMapping<Trial>))]
    [System.Xml.Serialization.XmlIncludeAttribute(typeof(Bonsai.Expressions.TypeMapping<TruncationParameters>))]
    [System.Xml.Serialization.XmlIncludeAttribute(typeof(Bonsai.Expressions.TypeMapping<UniformDistribution>))]
    [System.Xml.Serialization.XmlIncludeAttribute(typeof(Bonsai.Expressions.TypeMapping<UniformDistributionParameters>))]
    [System.Xml.Serialization.XmlIncludeAttribute(typeof(Bonsai.Expressions.TypeMapping<AindForceForagingTaskLogic>))]
    [System.Xml.Serialization.XmlIncludeAttribute(typeof(Bonsai.Expressions.TypeMapping<TruncationParameters2>))]
    [System.Xml.Serialization.XmlIncludeAttribute(typeof(Bonsai.Expressions.TypeMapping<ScalingParameters2>))]
    public partial class DeserializeFromJson : Bonsai.Expressions.SingleArgumentExpressionBuilder
    {
    
        public DeserializeFromJson()
        {
            Type = new Bonsai.Expressions.TypeMapping<AindForceForagingTaskLogic>();
        }

        public Bonsai.Expressions.TypeMapping Type { get; set; }

        public override System.Linq.Expressions.Expression Build(System.Collections.Generic.IEnumerable<System.Linq.Expressions.Expression> arguments)
        {
            var typeMapping = (Bonsai.Expressions.TypeMapping)Type;
            var returnType = typeMapping.GetType().GetGenericArguments()[0];
            return System.Linq.Expressions.Expression.Call(
                typeof(DeserializeFromJson),
                "Process",
                new System.Type[] { returnType },
                System.Linq.Enumerable.Single(arguments));
        }

        private static System.IObservable<T> Process<T>(System.IObservable<string> source)
        {
            return System.Reactive.Linq.Observable.Select(source, value => Newtonsoft.Json.JsonConvert.DeserializeObject<T>(value));
        }
    }
}